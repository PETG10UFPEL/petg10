try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="c52bc47a-1917-4dfd-99a1-aab7d24797ed",e._sentryDebugIdIdentifier="sentry-dbid-c52bc47a-1917-4dfd-99a1-aab7d24797ed")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[16281],{0x31c535e9:(e,t,l)=>{l.d(t,{IS:()=>f,rX:()=>v,vP:()=>b,yu:()=>p});var n=l(0x17aa9d8d7),a=l(0x628a9a0b),i=l(0xf32c56dd),s=l(0x20b939f38),o=l(0xac309a83),u=l(0x17f3a2521),d=l(0xfc89b4a4),r=l(0xbebfc702),c=l(0x1c12b3087),g=l(0x13279c600);let _=e=>{let t=(0,o.fS)("claude_ai_sticky_project_settings");return(0,d.useMemo)(()=>{let l=["enabled_web_search","enabled_bananagrams","enabled_sourdough","enabled_foccacia","enabled_mcp_tools","paprika_mode","enabled_megaminds","tool_search_mode"];return e&&t&&l.push("compass_mode"),l},[e,t])},b=e=>{let t=(0,c.jw)(),{pendingConversationSettings:l}=(0,c.Fj)(),{account:n}=(0,s.YL)(),a=(0,c.QN)(),{data:i}=(0,r.xQ)(a),u=(0,o.fS)("claude_ai_sticky_project_settings"),d=_(!!a);if((0,g.u9)().isAvailable,t){var b;return null==(b=t.conversationSettings)?void 0:b[e]}if(d.includes(e)){if(a&&u&&i){let t=i[e];if(void 0!==t)return t}return null==n?void 0:n.settings[e]}return null==l?void 0:l[e]},f=()=>{var e;let t=(0,c.jw)(),{pendingConversationSettings:l,setPendingConversationSettings:i}=(0,c.Fj)(),g=(0,c.QN)(),{account:b}=(0,s.YL)(),f=_(!!g),{mutateAsync:v}=(0,n.yJ)(),{mutateAsync:p}=(0,a.HF)(null==t?void 0:t.id),{data:h}=(0,r.xQ)(g),{mutateAsync:m}=(0,r.mu)(g),y=(0,o.fS)("claude_ai_sticky_project_settings"),k=!!b,w=!!t;return{updateSettings:(0,d.useCallback)(async e=>{var n,a;let{conversationSettingsUpdate:s={},mcpToolsUpdate:o={},signal:d}=e;if(!k||0===Object.keys(s).length&&0===Object.keys(o).length)return;let r={...s},c={};Object.keys(r).forEach(e=>{let t=r[e];f.includes(e)?Object.assign(c,{[e]:t}):u.W$.includes(e)&&!w&&i({[e]:t})}),Object.keys(o).length>0&&(w?r.enabled_mcp_tools={...null==(a=t.conversationSettings)?void 0:a.enabled_mcp_tools,...o}:i({enabled_mcp_tools:{...null==l?void 0:l.enabled_mcp_tools,...o}}),c.enabled_mcp_tools={...g&&y?null==h?void 0:h.enabled_mcp_tools:b.settings.enabled_mcp_tools,...o});let _=d?{signal:d}:void 0;!w||(null==t||null==(n=t.id)?void 0:n.startsWith("local_"))||await p({settings:r},_),Object.keys(c).length>0&&(g&&y?await m(c,_):await v(c,_))},[k,null==b?void 0:b.settings.enabled_mcp_tools,w,null==t?void 0:t.id,null==t||null==(e=t.conversationSettings)?void 0:e.enabled_mcp_tools,null==l?void 0:l.enabled_mcp_tools,null==h?void 0:h.enabled_mcp_tools,p,g,y,m,v,f,i])}},v=e=>{let t=(0,c.jw)(),{account:l}=(0,s.YL)(),{track:n}=(0,i.st)(),{updateSettings:a}=f(),o=!!l,u=(null==t?void 0:t.id)||null,r=(0,d.useCallback)(t=>{o&&(a({conversationSettingsUpdate:t}),Object.keys(t).forEach(l=>{let a=t[l];n({event_key:"claudeai.conversation.setting.toggled",conversation_uuid:u,setting:l,value:a,source:null==e?void 0:e.source})}))},[o,u,a,n,null==e?void 0:e.source]),g=(0,d.useCallback)(async(t,l)=>{o&&(await a({conversationSettingsUpdate:t,signal:null==l?void 0:l.signal}),Object.keys(t).forEach(l=>{let a=t[l];n({event_key:"claudeai.conversation.setting.toggled",conversation_uuid:u,setting:l,value:a,source:null==e?void 0:e.source})}))},[o,u,a,n,null==e?void 0:e.source]);return{toggleConversationSetting:(0,d.useCallback)((e,t)=>{r({[e]:t})},[r]),batchToggleConversationSettings:r,batchToggleConversationSettingsAsync:g}},p=e=>{let t=(0,c.jw)(),{account:l}=(0,s.YL)(),{updateSettings:n}=f(),{track:a}=(0,i.st)();return{batchToggleConversationSettingsAndMCPTools:(0,d.useCallback)(i=>{let{conversationSettingsUpdate:s,mcpToolsUpdate:o}=i;l&&(n({conversationSettingsUpdate:s,mcpToolsUpdate:o}),s&&Object.keys(s).forEach(l=>{let n=s[l];a({event_key:"claudeai.conversation.setting.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:l,value:n,source:null==e?void 0:e.source})}),o&&Object.entries(o).forEach(l=>{let[n,i]=l;a({event_key:"claudeai.mcp.tool.toggled",conversation_uuid:(null==t?void 0:t.id)||null,setting:n,value:i,url:void 0,source:null==e?void 0:e.source})}))},[l,t,n,a,null==e?void 0:e.source])}}},0xab432de1:(e,t,l)=>{function n(e){return e.replace(/(^|\n)(\s?)â€¢(\s?)/g,"$1$2- ")}function a(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"markdown-document",l=e.indexOf("```");if(-1===l||-1===e.indexOf("```",l+3))return e;let n=[...e.matchAll(/^(\s*)(```+)(.*)$/gm)];if(0===n.length)return e;let a=new Map,i=e=>{let t=a.get(e);return void 0===t&&(t="`".repeat(e),a.set(e,t)),t},s=[];for(let e of n){var o;let[t,l,n,a]=e,i=null!=(o=e.index)?o:0;s.push({index:i,length:t.length,backtickCount:n.length,indent:l,info:a.trim(),depth:0})}let u=[];for(let e=0;e<s.length;e++){let l=s[e];if(""!==l.info){l.depth=u.length,u.push(e);continue}if(0===u.length){l.depth=0,u.push(e);continue}let n=s[u[u.length-1]];if(l.backtickCount<n.backtickCount){l.depth=u.length,u.push(e);continue}let a=!0;if("code-in-markdown"===t&&1===u.length&&""!==n.info){let t=-1;for(let n=e+1;n<s.length&&""===s[n].info;n++)if(s[n].backtickCount===l.backtickCount){t=n;break}if(-1!==t){for(let e=t+1;e<s.length;e++)if(s[e].backtickCount>=n.backtickCount){a=!1;break}}}a?(l.depth=u.length-1,n.closingFenceIndex=e,u.pop()):(l.depth=u.length,u.push(e))}let d=new Map,r=0;for(let e of s){let t=d.get(e.depth)||3;d.set(e.depth,Math.max(t,e.backtickCount)),r=Math.max(r,e.depth)}for(let e=r-1;e>=0;e--){let t=d.get(e)||3,l=d.get(e+1)||0;l>=t&&d.set(e,l+1)}let c=new Map;for(let e of s){let t=d.get(e.depth)||3;if(t>e.backtickCount&&c.set(e.index,{index:e.index,length:e.length,replacement:"".concat(e.indent).concat(i(t)).concat(e.info)}),void 0!==e.closingFenceIndex){let l=s[e.closingFenceIndex];l.backtickCount!==t&&c.set(l.index,{index:l.index,length:l.length,replacement:"".concat(l.indent).concat(i(t))})}}if(0===c.size)return e;if(1===c.size){let[{index:t,length:l,replacement:n}]=c.values();return e.slice(0,t)+n+e.slice(t+l)}let g=Array.from(c.values()).sort((e,t)=>e.index-t.index),_=[],b=0;for(let{index:t,length:l,replacement:n}of g)_.push(e.slice(b,t)),_.push(n),b=t+l;return _.push(e.slice(b)),_.join("")}function i(e){return e.replace(/\\/g,"\\\\")}l.d(t,{Dn:()=>s,Gm:()=>i,UT:()=>a,tH:()=>n});let s=e=>{let t=e.match(/\n+/g),l=t?t.length:0,n=e.match(/\n{2,}/g),a=n?n.length:0;return{multipleNewlineCount:a,singleNewlineCount:l-a}}},0x13279c600:(e,t,l)=>{l.d(t,{EG:()=>k,FX:()=>v,Gh:()=>_,JO:()=>Y,RO:()=>A,UA:()=>m,Vx:()=>O,Vy:()=>f,Yl:()=>C,p0:()=>p,u9:()=>S,up:()=>M,ut:()=>h,z_:()=>E});var n=l(0x17aa9d8d7),a=l(0x12c9046cd),i=l(0x20b939f38),s=l(0x10728a05e),o=l(0x49fac030),u=l(0xac309a83),d=l(0xfc89b4a4),r=l(0x1ab0d1ca1),c=l(0x156c4e43b),g=l(0xd4efd6b3);function _(){return(0,u.fS)("trials_and_tribulations_of_high_school_football")}function b(){var e,t;let l=(0,i.mV)(),n=(0,i.zm)(),{activeOrganization:s}=(0,i.YL)(),u=(0,g.rB)(),d=(0,g._K)("wiggle"),r=(0,i.Hb)(),{data:c}=(0,a.Sk)("/api/organizations/".concat(r,"/feature_settings"),{queryKey:[o.RRr,r],enabled:!!s&&l&&!u});return!l||(u?!!d.isLoading||d.isAvailable:n?!!c&&!(null==(t=c.disabled_features)?void 0:t.includes("wiggle")):!c||!(null==(e=c.disabled_features)?void 0:e.includes("wiggle")))}function f(){var e,t;let{activeOrganization:l}=(0,i.YL)(),n=(0,u.fS)("claudeai_default_wiggle_egress_enabled");return null!=(t=null==l||null==(e=l.settings)?void 0:e.enabled_wiggle_egress)?t:n}function v(){var e,t;let{activeOrganization:l}=(0,i.YL)();return null!=(t=null==l||null==(e=l.settings)?void 0:e.wiggle_egress_allowed_hosts)?t:w}function p(){var e,t;let{activeOrganization:l}=(0,i.YL)(),n=y();return null!=(t=null==l||null==(e=l.settings)?void 0:e.wiggle_egress_hosts_template)?t:n}function h(){var e;let{account:t}=(0,i.YL)(),l=(0,u.fS)("claudeai_default_wiggle_egress_enabled"),n=(0,u.fS)("claudeai_default_wiggle_egress_enabled_without_spotlight");if(!(null==t?void 0:t.settings))return!1;let a=n||!!t.settings.wiggle_egress_spotlight_viewed_at;return null!=(e=t.settings.enabled_wiggle_egress)?e:!!a&&l}function m(){var e,t;let{account:l}=(0,i.YL)();return null!=(t=null==l||null==(e=l.settings)?void 0:e.wiggle_egress_allowed_hosts)?t:w}function y(){return(0,u.T9)("claudeai_default_wiggle_egress_hosts_template","template","package_managers",c.Yj())}function k(){var e,t;let{account:l}=(0,i.YL)(),n=y();return null!=(t=null==l||null==(e=l.settings)?void 0:e.wiggle_egress_hosts_template)?t:n}let w=[],x=["*.anthropic.com","anthropic.com","claude.com","*.claude.com"],j={package_managers:["registry.npmjs.org","npmjs.com","www.npmjs.com","npmjs.org","www.npmjs.org","yarnpkg.com","registry.yarnpkg.com","pypi.org","files.pythonhosted.org","pythonhosted.org","github.com","archive.ubuntu.com","security.ubuntu.com","crates.io","index.crates.io","static.crates.io","playwright.download.prss.microsoft.com","cdn.playwright.dev",...x]},L=c.g1(c.Yj(),c.YO(c.Yj()));function A(){let e=(0,i.mV)(),t=h(),l=k(),n=m(),a=f(),s=p(),o=v(),r=e?a:t,c=e?s:l,g=e?o:n,_=(0,u.iW)("yukon_silver_egress_templates",j,L);return 0===Object.keys(_).length&&(_=j),(0,d.useMemo)(()=>{var e;return r?"full_egress"===c?["*"]:[...new Set([...null!=(e=_[c])?e:[],...g,...x])]:x},[r,c,g,_])}function S(){let e=_(),t=(0,g.rB)(),l=(0,g._K)("wiggle"),n=b(),a=function(){var e,t;let{account:l}=(0,i.YL)(),n=(0,u.fS)("default_wiggle_on"),a=(0,u.P0)("wiggle_pro_default_on","default_enabled",void 0,c.zM().nullish());if(null==l?void 0:l.settings)return null!=(t=null!=(e=l.settings.enabled_monkeys_in_a_barrel)?e:a)?t:n}();if(!e)return{status:"blocked_by_platform",isAvailable:!1,isLoading:!1};if(t){if(l.isLoading)return{status:"available",isAvailable:!0,isLoading:!0};if(l.status&&"available"!==l.status)return{status:function(e){switch(e){case"available":return"available";case"blocked_by_platform":default:return"blocked_by_platform";case"blocked_by_org_admin":return"blocked_by_org_admin";case"blocked_by_entitlement":return"blocked_by_entitlement"}}(l.status),isAvailable:!1,isLoading:!1}}return t||n?void 0===a?{status:"available",isAvailable:!0,isLoading:!0}:a?{status:"available",isAvailable:!0,isLoading:!1}:{status:"disabled_by_user",isAvailable:!1,isLoading:!1}:{status:"blocked_by_org_admin",isAvailable:!1,isLoading:!1}}function C(){let e=_(),t=b();return e&&t}function M(){var e;let t=(0,i.mV)(),{activeOrganization:l}=(0,i.YL)(),n=(0,i.Hb)(),{data:s}=(0,a.Sk)("/api/organizations/".concat(n,"/feature_settings"),{queryKey:[o.RRr,n],enabled:!!l&&t});return t?s?{isLoading:!1,isEnabled:!(null==(e=s.disabled_features)?void 0:e.includes("skills"))}:{isLoading:!0,isEnabled:void 0}:{isLoading:!1,isEnabled:!0}}function Y(){let e=S(),{isEnabled:t}=M(),l=(0,u.fS)("claudeai_skills");return e.isAvailable&&!!t&&l}function E(){let e=C(),{isLoading:t,isEnabled:l}=M(),n=(0,u.fS)("claudeai_skills");return e&&n?t?{isLoading:!0,isAvailable:void 0}:{isLoading:!1,isAvailable:!!l}:{isLoading:!1,isAvailable:!1}}let O=()=>{let e=(0,r.A)(),{account:t}=(0,i.YL)(),{addSuccess:l}=(0,s.Yf)(),a=S(),{mutate:o}=(0,n.yJ)(),u=(0,d.useRef)(null==t?void 0:t.settings);(0,d.useEffect)(()=>{u.current=null==t?void 0:t.settings},[null==t?void 0:t.settings]);let c=(0,d.useCallback)(n=>{if(t&&"blocked_by_platform"!==a.status&&"blocked_by_org_admin"!==a.status&&"blocked_by_entitlement"!==a.status){if(n){var i,s;let t=null==(i=u.current)?void 0:i.enabled_artifacts_attachments,n=[];t&&n.push("Analysis Tool"),n.length>0&&l(e.formatMessage({defaultMessage:"Automatically disabled: {features}",id:"7StJBCedWA"},{features:n.join(", ")})),(null==(s=u.current)?void 0:s.preview_feature_uses_artifacts)||l(e.formatMessage({defaultMessage:"Automatically enabled: Artifacts",id:"v5zt5SRUyk"}))}o({enabled_monkeys_in_a_barrel:n,...n&&{enabled_artifacts_attachments:!1,preview_feature_uses_artifacts:!0}})}},[t,a.status,o,l,e]);return{status:a.status,isEnabled:a.isAvailable,toggleWiggle:c}}}}]);