try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="76dabe9f-dcbf-41b6-b473-d9a0b265c114",e._sentryDebugIdIdentifier="sentry-dbid-76dabe9f-dcbf-41b6-b473-d9a0b265c114")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22167],{0x1381f2bb:(e,t,n)=>{n.d(t,{O:()=>a});var o=n(0x22102fd88),r=n(0x1a1f6dda6);let a=e=>{let{size:t=20,borderRadius:n=.27*t,className:a,children:l}=e;return(0,o.jsx)("div",{style:{width:t,height:t,borderRadius:n},className:(0,r.A)("shrink-0 bg-bg-000 border-border-300 border-0.5 shadow-sm flex items-center justify-center",a),children:l})}},0x4d9fc74e:(e,t,n)=>{n.d(t,{DO:()=>d,N7:()=>c,QD:()=>p,hV:()=>m,sg:()=>u});var o=n(0xf32c56dd),r=n(0x20b939f38),a=n(0x1bd175d8c),l=n(0x4d348f95),s=n(0x1b910c896),i=n(0x21fe74567);let c="mcp-auth-complete",u="mcp-auth-channel";function d(e,t){if("undefined"!=typeof BroadcastChannel)try{let n=new BroadcastChannel(u);n.postMessage({type:c,serverId:e,step:t}),n.close()}catch(e){}}function m(){var e;let{activeOrganization:t}=(0,r.YL)(),n=null!=(e=null==t?void 0:t.uuid)?e:"";return(e,t)=>"/api/organizations/".concat(n,"/mcp/start-auth/").concat(e,"?redirect_url=").concat(encodeURIComponent(t),"&open_in_browser=1")}let p=function(){var e;let{pathname:t,queryString:n="",source:r}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},c=(0,l.usePathname)(),u=(0,l.useSearchParams)(),d=(0,a.V)(),{track:p}=(0,o.st)(),f=m(),g="".concat((0,i.d)({pathname:t||c,searchParams:u,queryString:n,shouldOpenInClaudeApp:d,isNestBuild:(null==(e=(0,s.B7)())?void 0:e.build)==="ClaudeNest"}));return e=>{let{uuid:t,url:n}=e;p({event_key:"claudeai.mcp.auth.init",uuid:t,url:n,source:r}),window.location.href=f(t,g)}}},0x6f6d4bd7:(e,t,n)=>{n.d(t,{Cc:()=>y,HQ:()=>w,K2:()=>m,Li:()=>g,PY:()=>A,Tz:()=>R,U2:()=>_,UT:()=>h,_c:()=>S,lL:()=>I,lU:()=>x,qO:()=>v});var o=n(0x18e5c6e75),r=n(0x253a5c787),a=n(0x15b8dbfeb),l=n.n(a),s=n(0x156c4e43b),i=n(0x1dafb1ccf),c=n(0xbb751ecb),u=n(0x22ebfe62e);let d=e=>e.replace(/_/g," ").replace(/^\w/,e=>e.toUpperCase());function m(e){var t;if(e.name)return e.name;let n=null==(t=e._meta)?void 0:t.name;return"string"==typeof n&&n?n:e.uri}let p=s.YO(s.k5(["model","app"])),f=s.Ik({resourceUri:s.Yj().optional(),visibility:p.optional()});function g(e){let t=[],n=[];for(let o of e)!function(e){var t;let n=null==(t=e._meta)?void 0:t.ui;if(!n)return!0;let o=f.safeParse(n);return!o.success||!o.data.visibility||o.data.visibility.includes("model")}(o)?n.push(o):t.push(o);return{modelVisible:t,appOnly:n}}async function v(e,t,n){try{return(await t.listTools({},{timeout:5e3})).tools.map(e=>n?(0,o.M)(e):e).map(t=>{var n;return{...t,displayName:d(t.title||(null==(n=t.annotations)?void 0:n.title)||t.name),enabledKey:y(e,t.name),alwaysApprovedKey:""}}).map(e=>({...e,alwaysApprovedKey:function(e){let t=e.enabledKey,n=e.description||"",o=function(e){var t;let n=Object.entries((null==(t=e.inputSchema)?void 0:t.properties)||{}),o=[];for(let[e,t]of n){let{data:n}=b.safeParse(t),r=(null==n?void 0:n.description)||"";o.push([e,r])}return o.sort((e,t)=>e[0].localeCompare(t[0])).flat().join(",")}(e),r=l().createHash("md5").update("".concat(n,":").concat(o)).digest("hex");return"".concat(t,"-").concat(r)}(e)}))}catch(t){return(0,r.Cp)(t,{tags:{action:"listTools",serverUuid:e}}),[]}}async function h(e,t){try{var n;if(!(null==(n=t.getServerCapabilities())?void 0:n.prompts))return[];return(await t.listPrompts({},{timeout:5e3})).prompts.map(e=>({...e,displayName:d(e.title||e.name)}))}catch(t){return(0,r.Cp)(t,{tags:{action:"listPrompts",serverUuid:e}}),[]}}async function _(e,t){try{var n;let e;if(!(null==(n=t.getServerCapabilities())?void 0:n.resources))return[];let o=[];do{let n=await t.listResources({cursor:e},{timeout:5e3});o.push(...n.resources.map(e=>({...e,displayName:d(e.title||m(e))}))),e=n.nextCursor}while(e);return o}catch(t){return(0,r.Cp)(t,{tags:{action:"listResources",serverUuid:e}}),[]}}function y(e,t){return"".concat(e,":").concat(t)}let b=s.Ik({description:s.Yj().optional(),type:s.Yj().optional(),title:s.Yj().optional()}).optional();function S(e,t){if(e.url){var n;return e.url.replace(/\/$/,"")===(null!=(n=null==t?void 0:t.replace(/\/$/,""))?n:"")}if(e.urlRegex){let n=new RegExp(e.urlRegex);return!!t&&n.test(t)}return!1}function x(e,t,n){if(n||e in u.rb)return!1;if(e.startsWith("local:")){let n=e.slice(6),o=t.dxts[n];return!o||(0,c.Z)(o.id)}return!t.remoteDirectories[e]}let C=["7d4b2f9a-3c8e-4a5f-b6d1-8e7c4a9f2b3d",i.eG],T=["elicitationServer","exampleServer"];function w(e,t,n,o){return"remote"===t?e.formatMessage({defaultMessage:"CUSTOM",id:"Jg/zGahNtM"}):(null==o?void 0:o.startsWith("local.unpacked."))?e.formatMessage({defaultMessage:"LOCAL UNPACKED",id:"ThUmMxykCs"}):(null==o?void 0:o.startsWith("local.dxt"))?e.formatMessage({defaultMessage:"LOCAL MCPB",id:"YcedjKsPiF"}):o?e.formatMessage({defaultMessage:"DESKTOP",id:"PSrLJoAtCY"}):C.includes(n)?e.formatMessage({defaultMessage:"INCLUDED",id:"OAfuZpKlBY"}):T.includes(n)?e.formatMessage({defaultMessage:"DEMO",id:"rFjCvt98HU"}):e.formatMessage({defaultMessage:"LOCAL DEV",id:"S14UXqQo+W"})}let A={[i.cN]:"/images/crochet/browser.png",[i.oS]:"/images/crochet/browser.png"},L=new Set(Object.values(A)),R=e=>!!(e&&L.has(e));function I(e,t){return e&&function(e){if(e.startsWith("data:image/")||e.startsWith("https://www.google.com/s2/favicons")||e.startsWith("https://t0.gstatic.com/faviconV2"))return!0;try{let{pathname:t}=new URL(e);return/\.(svg|png|jpe?g|gif|ico|webp)$/i.test(t)}catch(e){return!1}}(e)?{iconType:"external",iconSrc:e}:{iconType:"favicon",iconSrc:e||t}}},0x8475f78a:(e,t,n)=>{n.d(t,{Ds:()=>u,Ic:()=>a,RK:()=>l,U6:()=>c});var o=n(0xac309a83),r=n(0x156c4e43b);let a=e=>"".concat(e,"-wrapped"),l=r.Ik({isConnected:r.zM(),hasPromptsOrResources:r.zM().optional(),expiration:r.ai()}),s="mcp-remote-connectors-state";function i(e,t){if(!(0,o._f)("claudeai_mcp_local_cache"))return;let n=Date.now();try{var r,a;let o=localStorage.getItem(s),i=o?JSON.parse(o):{},c="object"==typeof i&&null!==i?{...i}:{},u=l.safeParse(c[e]);c[e]={isConnected:null!=(r=t.isConnected)?r:!!u.success&&u.data.isConnected,hasPromptsOrResources:null!=(a=t.hasPromptsOrResources)?a:u.success?u.data.hasPromptsOrResources:void 0,expiration:n+864e5},localStorage.setItem(s,JSON.stringify(c))}catch(e){}}function c(){if(!(0,o._f)("claudeai_mcp_local_cache"))return{};try{let e=localStorage.getItem(s);if(!e)return{};let t=JSON.parse(e),n={},o=Date.now();if("object"==typeof t&&null!==t)for(let[e,r]of Object.entries(t)){let t=l.safeParse(r);t.success&&t.data.expiration>o&&(n[e]=t.data)}return n}catch(e){return{}}}let u=e=>({remoteServers:{},remoteConnectionStates:{},remoteClients:{},remoteTools:{},remoteAppOnlyTools:{},remotePrompts:{},remoteResources:{},remoteDirectories:{},remoteIsLoading:!1,remoteHasBootstrapped:!1,remoteStreamCompleted:!1,addRemoteServer:t=>e(e=>({remoteServers:{...e.remoteServers,[t.uuid]:t},remoteConnectionStates:{...e.remoteConnectionStates,[t.uuid]:{isConnected:!1,isConnecting:!0,usedAuthentication:!1}}})),setRemoteServerConnected:(t,n)=>e(e=>(i(t,{isConnected:!0}),{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{isConnected:!0,isConnecting:!1,usedAuthentication:n}}})),setRemoteClient:(t,n)=>e(e=>({remoteClients:{...e.remoteClients,[t]:n}})),disconnectRemoteServer:t=>e(e=>{let{[t]:n,[a(t)]:o,...r}=e.remoteClients;i(t,{isConnected:!1});let{[t]:l,...s}=e.remoteTools,{[t]:c,...u}=e.remoteAppOnlyTools,{[t]:d,...m}=e.remotePrompts,{[t]:p,...f}=e.remoteResources;return{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{isConnected:!1,isConnecting:!1,usedAuthentication:!1}},remoteClients:r,remoteTools:s,remoteAppOnlyTools:u,remotePrompts:m,remoteResources:f}}),removeRemoteServer:t=>e(e=>{let{[t]:n,...o}=e.remoteServers,{[t]:r,...l}=e.remoteConnectionStates,{[t]:s,[a(t)]:i,...c}=e.remoteClients,{[t]:u,...d}=e.remoteTools,{[t]:m,...p}=e.remoteAppOnlyTools,{[t]:f,...g}=e.remotePrompts,{[t]:v,...h}=e.remoteResources,{[t]:_,...y}=e.remoteDirectories;return{...e,remoteServers:o,remoteConnectionStates:l,remoteClients:c,remoteTools:d,remoteAppOnlyTools:p,remotePrompts:g,remoteResources:h,remoteDirectories:y}}),setRemoteTools:(t,n,o)=>e(e=>({remoteTools:{...e.remoteTools,[t]:n},remoteAppOnlyTools:{...e.remoteAppOnlyTools,[t]:o}})),setRemotePrompts:(t,n)=>e(e=>{var o;let r=null!=(o=e.remoteResources[t])?o:[];return i(t,{hasPromptsOrResources:n.length>0||r.length>0}),{remotePrompts:{...e.remotePrompts,[t]:n}}}),setRemoteResources:(t,n)=>e(e=>{var o;let r=(null!=(o=e.remotePrompts[t])?o:[]).length>0||n.length>0;return i(t,{hasPromptsOrResources:r}),{remoteResources:{...e.remoteResources,[t]:n}}}),setRemoteDirectory:(t,n)=>e(e=>({remoteDirectories:n?{...e.remoteDirectories,[t]:n}:e.remoteDirectories})),setRemoteIsLoading:t=>e({remoteIsLoading:t}),setRemoteHasBootstrapped:t=>e({remoteHasBootstrapped:t}),setRemoteStreamCompleted:t=>e({remoteStreamCompleted:t}),setRequiresWebSocket:(t,n)=>e(e=>{let o=e.remoteConnectionStates[t];return o?{...e,remoteConnectionStates:{...e.remoteConnectionStates,[t]:{...o,requiresWebSocket:n}}}:e})})},0xbb751ecb:(e,t,n)=>{n.d(t,{Z:()=>o});function o(e){return e.startsWith("local.dxt")||e.startsWith("local.unpacked")}},0xe824fb1c:(e,t,n)=>{n.d(t,{Nu:()=>g,rD:()=>A,nd:()=>x,s$:()=>C,eZ:()=>y,Ug:()=>I,pK:()=>et,KU:()=>X,_b:()=>eo,OT:()=>T,dY:()=>W,Jy:()=>w,et:()=>b,HQ:()=>p.HQ,i7:()=>er,xk:()=>S,lU:()=>p.lU,of:()=>h,pH:()=>R,zi:()=>ee,H:()=>V,eg:()=>E,jh:()=>U,yt:()=>B,kU:()=>K,BG:()=>q,zC:()=>Q,fR:()=>$,kc:()=>P,I3:()=>N,IT:()=>D,pZ:()=>k,k$:()=>z,aF:()=>G,n3:()=>L,GF:()=>M,MR:()=>j,QO:()=>O,qT:()=>en,Ak:()=>J,Uz:()=>H,Q1:()=>Z});var o=n(0x192ec08a2),r=n(0x9b150f5f),a=n(0xfc89b4a4),l=n(0x394ef833),s=n(0x16784b660),i=n(0x107838ca5),c=n(0x1dafb1ccf),u=n(0x1c9feff0c),d=n(0x22ebfe62e),m=n(0x8475f78a),p=n(0x6f6d4bd7);let f=new Set(["mcp-registry"]),g="visualize",v=new Set([g]);function h(e){return v.has(e)}function _(e,t){return(null==t?void 0:t.manifest.icon)?(0,u.C)(t.manifest.icon,t.path):p.PY[e]}let y=(0,l.v)()((0,s.eh)(function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return{...(e=>({localClients:{},localTools:{},localAppOnlyTools:{},localPrompts:{},localResources:{},dxts:{},localIsLoading:!1,setLocalClient:(t,n,o,r)=>e(e=>({localClients:{...e.localClients,[t]:{uuid:null!=o?o:t,client:n,isBuiltIn:r}}})),removeLocalServer:t=>e(e=>{let{[t]:n,...o}=e.localClients,{[t]:r,...a}=e.localTools,{[t]:l,...s}=e.localAppOnlyTools,{[t]:i,...c}=e.localPrompts,{[t]:u,...d}=e.localResources,{[t]:m,...p}=e.dxts;return{localClients:o,localTools:a,localAppOnlyTools:s,localPrompts:c,localResources:d,dxts:p}}),setLocalTools:(t,n,o)=>e(e=>({localTools:{...e.localTools,[t]:n},localAppOnlyTools:{...e.localAppOnlyTools,[t]:o}})),setLocalPrompts:(t,n)=>e(e=>({localPrompts:{...e.localPrompts,[t]:n}})),setLocalResources:(t,n)=>e(e=>({localResources:{...e.localResources,[t]:n}})),setDxt:(t,n)=>e(e=>({dxts:{...e.dxts,[t]:n}})),setLocalIsLoading:t=>e({localIsLoading:t})}))(...t),...(0,m.Ds)(...t)}})),b=e=>y.getState().remoteServers[e],S=async e=>y.getState().remoteClients[(0,m.Ic)(e)],x=e=>void 0===y.getState().remoteServers[e],C=e=>void 0===y.getState().remoteConnectionStates[e],T=e=>{let t=y.getState();for(let[c,u]of Object.entries(t.remoteServers)){let d=t.remoteDirectories[c];if((null==d?void 0:d.uuid)===e){var n,o,r,a,l,s,i;let e=t.remoteConnectionStates[c];return{name:u.name,uuid:u.uuid,type:"remote",url:u.url,custom_oauth_client_id:u.custom_oauth_client_id,custom_oauth_client_secret:u.custom_oauth_client_secret,...(0,p.lL)(null==d?void 0:d.iconUrl,u.url),isConnected:null!=(n=null==e?void 0:e.isConnected)&&n,isConnecting:null!=(o=null==e?void 0:e.isConnecting)&&o,usedAuthentication:null!=(r=null==e?void 0:e.usedAuthentication)&&r,tools:null!=(a=t.remoteTools[c])?a:[],appOnlyTools:null!=(l=t.remoteAppOnlyTools[c])?l:[],prompts:null!=(s=t.remotePrompts[c])?s:[],resources:null!=(i=t.remoteResources[c])?i:[],directoryMetadata:d}}}};function w(e){let t=y.getState(),n=[];for(let[r,a]of Object.entries(t.remoteServers)){var o;if(!a)continue;let l=t.remoteConnectionStates[r];if((null==l?void 0:l.isConnected)!==!0)continue;let s=null!=(o=t.remoteTools[r])?o:[];if(0===s.length)continue;let i=s.filter(t=>(null==e?void 0:e[t.enabledKey])!==!1);0!==i.length&&n.push({uuid:r,name:a.name,tools:i.map(e=>{var t;return{name:e.name,description:e.description,inputSchema:null!=(t=e.inputSchema)?t:{},_meta:e._meta}})})}return n}let A=e=>y.getState().addRemoteServer(e),L=(e,t)=>y.getState().setRemoteServerConnected(e,t),R=e=>{var t;return(null==(t=y.getState().remoteConnectionStates[e])?void 0:t.isConnected)===!0},I=e=>y.getState().disconnectRemoteServer(e),E=e=>y.getState().removeRemoteServer(e),O=(e,t)=>y.getState().setRequiresWebSocket(e,t),P=(e,t)=>y.getState().setRemoteClient(e,t),k=e=>y.getState().setRemoteIsLoading(e),D=e=>y.getState().setRemoteHasBootstrapped(e),M=e=>y.getState().setRemoteStreamCompleted(e),j=async(e,t,n)=>{let o=await (0,p.qO)(e,t,n),{modelVisible:r,appOnly:a}=(0,p.Li)(o);return y.getState().setRemoteTools(e,r,a),o},z=async(e,t)=>{let n=await (0,p.UT)(e,t);return y.getState().setRemotePrompts(e,n),n},G=async(e,t)=>{let n=await (0,p.U2)(e,t);return y.getState().setRemoteResources(e,n),n},N=(e,t,n)=>{y.getState().setRemoteDirectory(e,n.find(e=>(0,p._c)(e,t)))},W=e=>{for(let[,{uuid:t,client:n}]of Object.entries(y.getState().localClients))if(t===e)return n},U=(e,t,n,o)=>y.getState().setLocalClient(e,t,n,o),K=e=>y.getState().setLocalIsLoading(e),V=e=>y.getState().removeLocalServer(e),B=(e,t)=>y.getState().setDxt(e,t),F=e=>"local:".concat(e),$=async(e,t,n)=>{let o=await (0,p.qO)(F(e),t,n),{modelVisible:r,appOnly:a}=(0,p.Li)(o);return y.getState().setLocalTools(e,r,a),o},q=async(e,t)=>{let n=await (0,p.UT)(F(e),t);return y.getState().setLocalPrompts(e,n),n},Q=async(e,t)=>{let n=await (0,p.U2)(F(e),t);return y.getState().setLocalResources(e,n),n};function Y(e,t){for(let[i,c]of Object.entries(t)){var n,o,r,a,l,s;if(void 0!==c){if("hasTools"===i){if(((null==(n=e.tools)?void 0:n.length)||0)>0!==c)return!1}else if("hasPrompts"===i){if(((null==(o=e.prompts)?void 0:o.length)||0)>0!==c)return!1}else if("hasResources"===i){if(((null==(r=e.resources)?void 0:r.length)||0)>0!==c)return!1}else if("hasPromptsOrResources"===i){let t=((null==(a=e.prompts)?void 0:a.length)||0)>0,n=((null==(l=e.resources)?void 0:l.length)||0)>0;if((t||n)!==c)return!1}else if("directoryUuid"===i){if((null==(s=e.directoryMetadata)?void 0:s.uuid)!==c)return!1}else if(e[i]!==c)return!1}}return!0}let H=e=>{let t=y((0,i.k)(e=>({remoteServers:e.remoteServers,remoteConnectionStates:e.remoteConnectionStates,remoteTools:e.remoteTools,remoteAppOnlyTools:e.remoteAppOnlyTools,remotePrompts:e.remotePrompts,remoteResources:e.remoteResources,remoteDirectories:e.remoteDirectories,localClients:e.localClients,localTools:e.localTools,localAppOnlyTools:e.localAppOnlyTools,localPrompts:e.localPrompts,localResources:e.localResources,dxts:e.dxts})));return(0,a.useMemo)(()=>{var n,o,r,a,l,s,i,c;let u=[];for(let[l,s]of Object.entries(t.remoteServers)){if(!s)continue;let i=t.remoteDirectories[l],c={...s,uuid:l,type:"remote",...(0,p.lL)(null==i?void 0:i.iconUrl,s.url),directoryMetadata:i,...t.remoteConnectionStates[l],tools:null!=(n=t.remoteTools[l])?n:[],appOnlyTools:null!=(o=t.remoteAppOnlyTools[l])?o:[],prompts:null!=(r=t.remotePrompts[l])?r:[],resources:null!=(a=t.remoteResources[l])?a:[],version:void 0};(!e||Y(c,e))&&u.push(c)}u.sort((e,t)=>e.name.localeCompare(t.name));let d=[];for(let[n,o]of Object.entries(t.localClients)){if(!o||f.has(n))continue;let r=t.dxts[n],a={name:n,uuid:o.uuid,type:"local",iconType:"external",iconSrc:_(n,r),isConnected:!0,isConnecting:!1,usedAuthentication:!1,tools:null!=(l=t.localTools[n])?l:[],appOnlyTools:null!=(s=t.localAppOnlyTools[n])?s:[],prompts:null!=(i=t.localPrompts[n])?i:[],resources:null!=(c=t.localResources[n])?c:[],localId:null==r?void 0:r.id};(!e||Y(a,e))&&d.push(a)}return d.sort((e,t)=>e.name.localeCompare(t.name)),[...u,...d]},[t,e])},Z=()=>y(e=>e.remoteIsLoading||e.localIsLoading||!e.remoteHasBootstrapped),J=()=>{let e=y(e=>e.remoteClients),t=y(e=>e.remoteServers),n=y(e=>e.remoteDirectories),o=y(e=>e.localClients),l=y(e=>e.dxts);return(0,a.useMemo)(()=>{let a=[],s=new Map;return Object.entries(e).forEach(e=>{let[o,l]=e;if(l instanceof r.K){var i;a.push(l);let e=t[o],r=n[o];s.set(l,{name:null!=(i=null==e?void 0:e.name)?i:o,...(0,p.lL)(null==r?void 0:r.iconUrl,null==e?void 0:e.url)})}}),Object.entries(o).forEach(e=>{let[t,n]=e;a.push(n.client);let o=l[t];s.set(n.client,{name:t,iconType:"external",iconSrc:_(t,o)})}),{clients:a,clientMetadata:s}},[e,t,n,o,l])},X=e=>{let t=y.getState(),n=W(e),o=t.remoteClients[e],r=n||o;if(!r)throw Error("Client not found for connector ".concat(e));if(r instanceof Promise)throw Error("Client for connector ".concat(e," is still connecting"));return r};async function ee(e,t,n){let o=y.getState();for(let r of t){let t=r.tools.map(e=>{var t;return{name:e.name,description:e.description,inputSchema:null!=(t=e.inputSchema)?t:{type:"object"},displayName:e.name,enabledKey:"".concat(r.name,":").concat(e.name),alwaysApprovedKey:"".concat(r.name,":").concat(e.name),_meta:e._meta}});o.setLocalTools(r.name,t,[]);let a=await n(e,r.name);o.setLocalClient(r.name,a,r.name)}}let et=e=>{var t,n,o;if(!e)return;let r=y.getState();for(let[n,o]of Object.entries(r.remoteServers)){let a=o.name.replace(/ /g,"_"),l=null==(t=r.remoteTools[n])?void 0:t.find(t=>"".concat(o.name,":").concat(t.name)===e||"mcp__".concat(o.uuid,"__").concat(t.name)===e||"mcp__".concat(a,"__").concat(t.name)===e);if(l){let e=r.remoteDirectories[n];return{tool:l,server:{uuid:n,name:o.name,url:o.url,type:"remote",...(0,p.lL)(null==e?void 0:e.iconUrl,o.url)}}}}for(let[t,a]of Object.entries(r.localTools)){let l=t.replace(/[ :]/g,"_"),s=a.find(n=>"".concat(t,":").concat(n.name)===e||"mcp__local_".concat(l,"__").concat(n.name)===e||"mcp__internal_".concat(l,"__").concat(n.name)===e||"mcp__".concat(l,"__").concat(n.name)===e);if(s){let e=r.localClients[t],a=r.dxts[t],l=_(t,a),i=t.replace(/^plugin:/,"");return{tool:s,server:{uuid:null!=(n=null==e?void 0:e.uuid)?n:t,name:i,type:"local",isBuiltIn:null!=(o=null==e?void 0:e.isBuiltIn)&&o,iconType:"external",iconSrc:l}}}}for(let[t,{name:n,syncSourceType:o}]of Object.entries(d.rb)){let r="mcp__".concat(t,"__");if(e.includes(r)){let a=e.slice(r.length),l="".concat(t,":").concat(a);return{tool:{name:a,displayName:a,enabledKey:l,alwaysApprovedKey:l,description:"",inputSchema:{type:"object"}},server:{uuid:t,name:n,type:"remote",iconType:"syncSource",iconSrc:o}}}}},en=e=>Object.values(y.getState().remoteTools).flat().find(t=>t.name===e)||Object.values(y.getState().localTools).flat().find(t=>t.name===e),eo=(e,t,n,o,r)=>{let a=y.getState(),l=[];for(let[o,r]of Object.entries(a.remoteTools)){let s=a.remoteServers[o];s&&r.filter(e=>(null==t?void 0:t[e.enabledKey])!==!1).forEach(t=>{var o,r;let a;n&&(a=n(s,t).approvalRequired),l.push({name:t.name,description:null!=(r=t.description)?r:"",input_schema:t.inputSchema,integration_name:s.name,mcp_server_uuid:s.uuid,mcp_server_url:s.url,needs_approval:a,backend_execution:e,read_only_hint:null==(o=t.annotations)?void 0:o.readOnlyHint,is_mcp_app:ea(t)})})}for(let[e,n]of Object.entries(a.localTools)){let a=(0,c.Xf)({name:e},o,void 0,r);a.isDisabled||n.filter(e=>(0,c.GE)(e.enabledKey,t,a.isChromeExt)).forEach(t=>{var n;l.push({name:t.name,description:null!=(n=t.description)?n:t.name,input_schema:t.inputSchema,integration_name:e,is_mcp_app:ea(t)})})}return l},er=(e,t)=>{let n=y.getState(),o=[];for(let[r,a]of Object.entries(n.remoteTools)){let l=n.remoteServers[r];l&&a.forEach(n=>{var r,a;let s;s=(null==e?void 0:e[n.enabledKey])===!1?"always_deny":t(l,n).approvalRequired?void 0:"always_allow",o.push({name:n.name,description:null!=(a=n.description)?a:"",input_schema:n.inputSchema,integration_name:l.name,mcp_server_uuid:l.uuid,mcp_server_url:l.url,permission_policy:s,read_only_hint:null==(r=n.annotations)?void 0:r.readOnlyHint,is_mcp_app:ea(n)})})}return o};function ea(e){return void 0!==(0,o.Bv)({_meta:e._meta})}},0xf8bd7957:(e,t,n)=>{n.d(t,{z:()=>m});var o=n(0x22102fd88),r=n(0x1381f2bb),a=n(0x303b360c),l=n(0x1fec22234),s=n(0x1d0c32e96),i=n(0x246499564),c=n(0x1a1f6dda6),u=n(0xcaa21d58),d=n(0x6f6d4bd7);let m=e=>{let{size:t,imageSize:n,name:m="",className:p,fallbackToGlobe:f,type:g,src:v}=e,h=!n,_=null!=n?n:t,y=f?void 0:(0,o.jsx)(a.B,{letter:m||"?",size:_,hideBorder:!h}),b=e=>(0,o.jsx)(r.O,{size:t,className:(0,c.A)(p,h&&"!border-0 !shadow-none !bg-transparent"),children:e});switch(g){case"favicon":return b((0,o.jsx)(l.d,{fadeInOnLoad:!0,url:v,size:_,fallbackSvg:y}));case"external":if(v&&(0,d.Tz)(v))return(0,o.jsx)(r.O,{size:t,className:p,children:(0,o.jsx)(u.default,{src:v,alt:"".concat(m," icon"),width:t,height:t,className:"object-cover rounded-[27%]"})});return b((0,o.jsx)(i.u,{style:{maxWidth:_,maxHeight:_},className:"object-contain",width:_,height:_,src:v||"",alt:"".concat(m," icon"),fallbackSvg:y,fadeInOnLoad:!0}));case"syncSource":return b((0,o.jsx)(s.A9,{type:v,size:_}));case"icon":return b((0,o.jsx)(i.o,{style:{maxWidth:_,maxHeight:_},className:"object-contain",width:_,height:_,src:v||"",alt:"".concat(m," icon"),fallbackSvg:y,fadeInOnLoad:!0}));default:return b(y)}}},0xff608010:(e,t,n)=>{n.d(t,{n:()=>r});var o=n(0xac309a83);function r(){return(0,o.fS)("claudeai_tools_page")}},0x17aa9d8d7:(e,t,n)=>{n.d(t,{B5:()=>m,BL:()=>b,DK:()=>p,IX:()=>L,Ng:()=>_,Nv:()=>y,QP:()=>I,Z5:()=>h,a0:()=>f,gz:()=>R,jU:()=>C,kd:()=>A,mY:()=>v,nX:()=>x,vt:()=>d,yJ:()=>S,zt:()=>g});var o=n(0xf32c56dd),r=n(0x12c9046cd),a=n(0xa5acf583),l=n(0x1016c6ed2),s=n(0x11945df39),i=n(0x49fac030),c=n(0x17e725145),u=n(0x4d348f95);function d(e,t){return(0,r.Sk)("/api/auth/login_methods?email=".concat(encodeURIComponent(e||""),"&source=").concat(t),{enabled:!!e&&(0,s.B9)(e),meta:{noToast:!0}})}let m=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,o.st)(),n=(0,a.fZ)();return(0,r.L2)("/api/auth/send_magic_link","POST",{...e,onSuccess:(n,o,r)=>{n.sso_url?t({event_key:"login.email.sso_initiated"}):t({event_key:"login.email.magic_link_sent"}),e.onSuccess&&e.onSuccess(n,o,r)},onError:(n,o,r)=>{t({event_key:"login.email.magic_link_send_error",error:n.message,error_type:n instanceof l.LG?n.type:"unknown"}),e.onError&&e.onError(n,o,r)},onMutate:e=>{t({event_key:"login.email.sending_magic_link"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},p=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,a.fZ)();return(0,r.L2)("/api/auth/exchange_nonce_for_code","POST",{...e,transformVariables:e=>({...e,source:t?"claude":"console"})})},f=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,o.st)(),n=(0,a.fZ)(),s=(0,a.Mk)();return(0,r.L2)("/api/auth/verify_magic_link","POST",{...e,onSuccess:(n,o,r)=>{"code"===o.credentials.method?t({event_key:"login.email.finished"}):t({event_key:"login.email.magic_link_success"}),w(n,t,"email","magic_link",s,o.oauth_client_id),e.onSuccess&&e.onSuccess(n,o,r)},onError:(n,o,r)=>{if("code"===o.credentials.method){let e="unknown";"already_used"===n.message?e="already_used":n instanceof l.LG&&"rate_limit_error"===n.type?e="rate_limit":n instanceof l.LG&&400===n.statusCode&&(e="incorrect_code"),t({event_key:"login.email.code_verification_error",error:n.message,error_type:e})}else t({event_key:"login.email.magic_link_verification_error",error:n.message});e.onError&&e.onError(n,o,r)},onMutate:e=>{"code"===e.credentials.method?t({event_key:"login.email.verifying_code"}):t({event_key:"login.email.verifying_magic_link"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},g=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,o.st)(),n=(0,a.fZ)(),l=(0,a.Mk)(),s=(0,u.useRouter)();return(0,r.L2)("/api/auth/verify_google","POST",{...e,onSuccess:(n,o,r)=>{!n.success&&(n.sso_url||n.sso_required)?(t({event_key:"login.email.sso_initiated"}),e.onSsoRequired?e.onSsoRequired():n.sso_url&&s.push(n.sso_url)):(t({event_key:"login.google.finished"}),w(n,t,"google","button",l,o.oauth_client_id),e.onSuccess&&e.onSuccess(n,o,r))},onError:(n,o,r)=>{t({event_key:"login.google.verification_error",error:n.message}),e.onError&&e.onError(n,o,r)},onMutate:e=>{t({event_key:"login.google.verifying"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,o.st)(),n=(0,a.fZ)(),l=(0,a.Mk)(),s=(0,u.useRouter)();return(0,r.L2)("/api/auth/verify_google_mobile","POST",{...e,onSuccess:(n,o,r)=>{!n.success&&n.sso_url?(t({event_key:"login.email.sso_initiated"}),s.push(n.sso_url)):(t({event_key:"login.google.finished",flow_type:"one_tap"}),w(n,t,"google","onetap",l,o.oauth_client_id),e.onSuccess&&e.onSuccess(n,o,r))},onError:(n,o,r)=>{t({event_key:"login.google.verification_error",error:n.message}),e.onError&&e.onError(n,o,r)},onMutate:e=>{t({event_key:"login.google.verifying"})},transformVariables:e=>({...e,source:n?"claude":"console"})})},h=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{track:t}=(0,o.st)(),n=(0,a.fZ)(),l=(0,u.useRouter)();return(0,r.L2)("/api/auth/accept_invite","POST",{...e,onSuccess:(n,o,r)=>{!n.success&&n.sso_url?(t({event_key:"login.email.sso_initiated"}),l.push(n.sso_url)):e.onSuccess&&e.onSuccess(n,o,r)},transformVariables:e=>({...e,source:n?"claude":"console"})})},_=()=>(0,r.L2)("/api/auth/logout","POST"),y=()=>(0,r.L2)("/api/auth/logout/all-sessions","POST"),b=()=>{let e=(0,c.useQueryClient)();return(0,r.L2)("/api/account?statsig_hashing_algorithm=djb2","PUT",{async onSuccess(){await e.invalidateQueries({queryKey:[i.Rwi]})}})},S=()=>(0,r.Qv)("/api/account/settings","PATCH",(e,t)=>(null==t?void 0:t.account)?{...t,account:{...t.account,settings:{...t.account.settings,...e}}}:t,{queryKey:[i.Rwi]}),x=()=>{let e=(0,c.useQueryClient)();return(0,r.L2)("/api/account/accept_legal_docs","PUT",{async onSuccess(){await e.invalidateQueries({queryKey:[i.Rwi]})}})},C=()=>(0,r.L2)("/api/account/email_consent","PUT"),T={"6a09bcbe-a58a-40ea-b2f9-8bbbd303ba38":"sheet_agent","966eba67-8b8c-4eae-bbb3-08361d1b9292":"sheet_agent","54511e87-7abf-4923-9d84-d6f24532e871":"claude-browser-use","dae2cad8-15c5-43d2-9046-fcaecc135fa4":"claude-browser-use"};function w(e,t,n,o,r,a){e.created&&t({event_key:"login.account.created",surface:r,authMethod:n,flow:o,oauth_client_slug:function(e){var t;if(e)return null!=(t=T[e])?t:e}(a)},e.account)}function A(e){return(0,r.Sk)("/api/signups/".concat(e),{enabled:!!e,staleTime:0})}function L(e){return(0,r.Sk)("/api/enterprise_auth/idp_redirect_url?organization_id=".concat(e),{meta:{noToast:!0}})}function R(e,t,n){return(0,r.Sk)("/api/enterprise_auth/sso_callback?code=".concat(e,"&state=").concat(t,"&source=").concat(n),{meta:{noToast:!0}})}function I(e,t){var n;let o=(0,c.useQueryClient)();return(0,r.L2)("/api/highside/login","GET",{...t,headers:{...null!=(n=t.headers)?n:{},...e},async onSuccess(){for(var e,n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];await o.invalidateQueries({queryKey:[i.Rwi]}),null==(e=t.onSuccess)||e.call(t,...r)}})}},0x18175ce17:(e,t,n)=>{n.d(t,{Cg:()=>K,Dd:()=>I,FZ:()=>L,LN:()=>T,TI:()=>k,Wg:()=>N,X0:()=>B,Ys:()=>W,dJ:()=>M,eL:()=>E,fe:()=>F,hm:()=>P,kO:()=>z,ob:()=>V,ph:()=>A,qi:()=>D,tS:()=>C,vm:()=>j,xc:()=>w,z3:()=>R});var o=n(0x17aa9d8d7),r=n(0x12c9046cd),a=n(0x20b939f38),l=n(0x10728a05e),s=n(0x1016c6ed2),i=n(0x9845e38c),c=n(0x49fac030),u=n(0xac309a83),d=n(0x1b813d90),m=n(0x1bd175d8c),p=n(0x17e725145),f=n(0x4d348f95),g=n(0xfc89b4a4),v=n(0x1ab0d1ca1),h=n(0x21fe74567),_=n(0x4d9fc74e),y=n(0x219f38dbd),b=n(0xe824fb1c),S=n(0x1b910c896),x=n(0xc6857cab);let C=e=>e.type===d.v8.GITHUB?{sync_source_type:d.v8.GITHUB,sync_source_config:e.config}:e.type===d.v8.GDRIVE?{sync_source_type:d.v8.GDRIVE,sync_source_config:e.config}:null,T=()=>{let{activeOrganization:e}=(0,a.YL)(),t=(0,a.Hb)();return(0,r.Sk)("/api/organizations/".concat(t,"/sync/settings"),{queryKey:[c._VC,{orgUuid:t}],enabled:!!e})},w=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,a.YL)(),n=null==t?void 0:t.uuid,o=(0,p.useQueryClient)();return(0,r.Qv)("/api/organizations/".concat(n,"/sync/settings"),"PUT",(e,t)=>{let{type:n,enabled:o}=e;t||(t=[]);let r=t.map(e=>e.type===n?{...e,enabled:o}:e);return r.some(e=>e.type===n)?r:[...t,{type:n,enabled:o}]},{queryKey:[c._VC,{orgUuid:n}],enabled:!!t,onSuccess:async function(){for(var t,r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];await o.invalidateQueries({queryKey:[c._VC,{orgUuid:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...a))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:t}=(0,a.YL)(),n=null==t?void 0:t.uuid,o=(0,p.useQueryClient)(),l=(0,u.fS)("kingfisher_enabled"),s=(0,u.fS)("apps_use_bananagrams");return(0,r.Qv)("/api/organizations/".concat(n,"/sync/settings/config"),"POST",(e,t)=>{let{type:n,config:o}=e;return t||(t=[]),t.map(e=>e.type===n?{...e,config:{...e.config,...o}}:e)},{queryKey:[c._VC,{orgUuid:n}],enabled:!!(t&&l&&s),onSuccess:async function(){for(var t,r=arguments.length,a=Array(r),l=0;l<r;l++)a[l]=arguments[l];await o.invalidateQueries({queryKey:[c._VC,{orgUuid:n}]}),await (null==(t=e.onSuccess)?void 0:t.call(e,...a))},meta:{errorMessage:"There was an error changing your settings. Please try again."},...e})},L=e=>{let{callerIdentifier:t,successParam:n,handleOpen:o}=e,r=(0,f.useSearchParams)(),a=(0,g.useRef)(!1);(0,g.useEffect)(()=>{!r.has(n)||a.current||t&&t!==r.get(n)||(a.current=!0,((e,t)=>{let n=new URLSearchParams(Array.from(t.entries()));n.delete(e);let o=n.toString()?"?".concat(n.toString()):"",r=window.location.pathname+o;window.history.replaceState({...window.history.state,as:r,url:r},"",r)})(n,r),o())},[r,t,o,n])},R=e=>{let t;return t=e.status.state,[d.I5.CREATED,d.I5.PENDING,d.I5.UPDATING].includes(t)},I=e=>[d.I5.FAILED,d.I5.UPDATE_FAILED].includes(e.status.state),E=()=>{let{addError:e}=(0,l.Yf)(),t=(0,p.useQueryClient)();return(n,o)=>{(e=>{if(e instanceof s.LG)return e instanceof s.LG&&"access_denied"===e.errorCode})(n)&&(e("Please try again. You may need to reconnect with your ".concat(d.sb[o.sync_source_type]," account."),{error:n}),c.kuu.forEach(e=>{t.invalidateQueries({queryKey:[e]})}),t.invalidateQueries({queryKey:[c.GCU]}))}},O={[d.v8.GCAL]:"enabled_foccacia",[d.v8.GMAIL]:"enabled_sourdough"},P=e=>{let t=(0,a.mV)(),{data:n}=T(),o=!!(Array.isArray(n)&&n.find(t=>t.type===e&&t.enabled));return!t||o},k={"https://mcp-server-gcal-586545259222.us-central1.run.app/sse":d.v8.GCAL,"https://mcp-server-gcal-586545259222.us-central1.run.app/mcp":d.v8.GCAL,"https://gcal.mcp.claude.com/mcp":d.v8.GCAL,"https://gcal.mcp.staging.ant.dev/mcp":d.v8.GCAL,"https://mcp-server-gmail-110131437935.us-central1.run.app/sse":d.v8.GMAIL,"https://mcp-server-gmail-110131437935.us-central1.run.app/mcp":d.v8.GMAIL,"https://gmail.mcp.claude.com/mcp":d.v8.GMAIL,"https://gmail.mcp.staging.ant.dev/mcp":d.v8.GMAIL,"https://api.anthropic.com/mcp/gdrive/sse":d.v8.GDRIVE,"https://api.anthropic.com/mcp/gdrive/mcp":d.v8.GDRIVE,"https://api-staging.anthropic.com/mcp/gdrive/sse":d.v8.GDRIVE,"https://api-staging.anthropic.com/mcp/gdrive/mcp":d.v8.GDRIVE},D=e=>{let t;return t=(0,b.Uz)({type:"remote"}),t.find(t=>t.url&&k[t.url]===e)},M=e=>!!D(e),j=()=>(0,u.fS)("enabled_brioche"),z=()=>(0,u.fS)("mcp_gdrive"),G=!1,N=()=>{let e=j(),t=z(),n=e&&!t;return n&&!G&&(G=!0,i.v.info(i.u.MCP,"Pretending GDrive is MCP: gcal_and_gmail_mcp is enabled but mcp_gdrive is not")),n},W=e=>{let t=j(),n=z(),o=P(e),r=(e=>{let t="cinnabon_enabled";switch(e){case d.v8.GCAL:case d.v8.GMAIL:t="pumpernickel_enabled";break;case d.v8.GDRIVE:t="kingfisher_enabled";break;default:t="cinnabon_enabled"}let n=(0,u.fS)(t);return("free"!==(0,a.$b)()||"cinnabon_enabled"!==t)&&!x.env.NEXT_PUBLIC_DISABLE_INTEGRATIONS&&n})(e),l=M(e),s=e===d.v8.GDRIVE?n:t;return!!(r&&(o||s&&l))},U=e=>"sfdc"===e?"salesforce":"gdrive"===e?"mcp/drive":e,K=e=>{let t=D(e),n=(0,b.eZ)(e=>e.remoteHasBootstrapped);return t?{isFetched:!0,isAuthenticated:!!t.isConnected,server_uuid:t.uuid}:{isFetched:n,isAuthenticated:!1,server_uuid:void 0}},V=function(e){let{callerIdentifier:t,handleAuthSuccess:n,pathname:o,queryString:s}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=z(),c=j(),u=e===d.v8.GDRIVE?i:c,b=((e,t)=>{let{pathname:n,queryString:o,callerIdentifier:r}=t,a=D(e),l=W(e),s=K(e),i=r?"".concat(e,"_success=").concat(r).concat(o?"&".concat(o):""):o,c=(0,_.QD)({pathname:n,queryString:i});return{isAuthenticated:!!l&&!!a&&s.isAuthenticated,startAuth:()=>{l&&a&&c({uuid:a.uuid,url:a.url})},disconnect:()=>{},isFetched:s.isFetched}})(e,{pathname:o,queryString:s,callerIdentifier:t}),{activeOrganization:x}=(0,a.YL)(),C=(0,a.Hb)(),T=(0,f.usePathname)(),w=(0,f.useSearchParams)(),{addSuccess:A}=(0,l.Yf)(),R=(0,v.A)(),I=W(e),E=(0,p.useQueryClient)(),O=(0,m.V)(),P=(0,y.o)(),{data:k,isFetched:M}=(0,r.Sk)("/api/organizations/".concat(C,"/sync/").concat(U(e),"/auth"),{queryKey:["sync_".concat(e,"_auth_status"),{orgUuid:C}],enabled:!!(x&&I)}),G=(0,g.useRef)(!1),{mutate:N}=(0,r.L2)("/api/organizations/".concat(C,"/sync/").concat(U(e),"/auth/start"),"POST",{enabled:!!(x&&I)&&!u,onSuccess:e=>{window.location.href=e.redirect_url}});L({callerIdentifier:t,successParam:"".concat(e,"_success"),handleOpen:()=>{A(R.formatMessage({defaultMessage:"Connected to {integrationName}",id:"g0plFfAZAH"},{integrationName:d.sb[e]})),null==n||n(!0)}});let{mutate:V}=(0,r.L2)("/api/organizations/".concat(C,"/sync/").concat(U(e),"/auth"),"DELETE",{enabled:!!(x&&I)&&!u,onSuccess:()=>{E.invalidateQueries({queryKey:["sync_".concat(e,"_auth_status"),{orgUuid:C}]})}});return u?{...b,isFetched:M&&b.isFetched,authBreakdown:{mcp:I&&b.isAuthenticated,firstParty:I&&!!(null==k?void 0:k.is_authenticated)},mcpServerGated:u}:{isAuthenticated:I&&!!(null==k?void 0:k.is_authenticated),startAuth:()=>{if(!G.current&&I){var n;let r="".concat(e,"_success=").concat(t).concat(s?"&".concat(s):""),a=(0,h.d)({pathname:o||T,searchParams:w,queryString:r,shouldOpenInClaudeApp:O,isNestBuild:(null==(n=(0,S.B7)())?void 0:n.build)==="ClaudeNest"});if(O){window.location.href="".concat(P,"?").concat(new URLSearchParams({open_in_browser:"1",auth_start:e,origin:a}));return}G.current=!0,N({pre_auth_state:{origin:a},redirect_uri:new URL("/connect/".concat(U(e),"/callback"),window.location.origin).toString()})}},disconnect:V,isFetched:M,authBreakdown:{mcp:I&&b.isAuthenticated,firstParty:I&&!!(null==k?void 0:k.is_authenticated)},mcpServerGated:u}},B=(e,t)=>{var n,o;let r=j(),l=z(),s=e===d.v8.GDRIVE?l:r,i=W(e),{account:c}=(0,a.YL)(),u=O[e];return!u||s?i:i&&(t?!!(null==t||null==(n=t.conversationSettings)?void 0:n[u]):!!(null==c||null==(o=c.settings)?void 0:o[u]))},F=()=>{let{account:e}=(0,a.YL)(),{mutate:t}=(0,o.yJ)();return{toggleIntegrationEnabled:(n,o)=>{if(!e)return;let r=O[n];r&&t({[r]:o})}}}},0x18e5c6e75:(e,t,n)=>{function o(e){let t=e,n="",o=0;for(;t!==n&&o<10;)n=t,t=(t=(t=(t=t.normalize("NFKC")).replace(RegExp("[\\p{Cf}\\p{Co}\\p{Cn}]","gu"),e=>"‌"===e||"‍"===e?e:"")).replace(RegExp("[\\p{Cc}]","gu"),e=>"\n"===e||"	"===e||"\r"===e?e:"")).replace(/[\u200B\u200E\u200F]/g,"").replace(/[\u202A-\u202E]/g,"").replace(/[\u2066-\u2069]/g,"").replace(/[\uFEFF]/g,"").replace(/[\uE000-\uF8FF]/g,""),o++;if(o>=10)throw Error("Unicode sanitization reached maximum iterations (".concat(10,") for input: ").concat(e.slice(0,100)));return t}n.d(t,{M:()=>function e(t){if("string"==typeof t)return o(t);if(Array.isArray(t))return t.map(e);if(null!==t&&"object"==typeof t){let n={};for(let[o,r]of Object.entries(t))n[e(o)]=e(r);return n}return t},P:()=>o})},0x1b58b00f5:(e,t,n)=>{n.d(t,{G:()=>s,g:()=>i});var o=n(0x12c9046cd),r=n(0x20b939f38),a=n(0x49fac030),l=n(0xc1dd9efc);function s(){let{account:e,activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,s=(0,r.mV)(),i=(0,l.yI)(e,t,l.Nt.OrganizationManage);return(0,o.Sk)("/api/organizations/".concat(n,"/browser_extension_settings"),{queryKey:[a.Enu,n],enabled:!!n&&s&&i})}function i(){var e;let{activeOrganization:t}=(0,r.YL)(),n=null==t?void 0:t.uuid,l=(0,r.mV)(),{data:s,isLoading:i}=(0,o.Sk)("/api/organizations/".concat(n,"/browser_extension_settings"),{queryKey:[a.Enu,n],enabled:!!n&&l});return!l||!i&&!!s&&null!=(e=s.enabled)&&e}},0x1b910c896:(e,t,n)=>{n.d(t,{B7:()=>l,k1:()=>a,uV:()=>r,uu:()=>s});var o=n(0xd1a44e2e);function r(){var e,t;return(null==(t=window.process)||null==(e=t.versions)?void 0:e.electron)&&window.process.platform||null}function a(){var e,t;return(null==(t=window.process)||null==(e=t.versions)?void 0:e.electron)&&window.process.version||null}function l(){if("undefined"==typeof navigator)return;let e=navigator.userAgent,t=e.match(/ClaudeNest\/(\d+\.\d+\.\d+)/);if(t)return{build:"ClaudeNest",version:t[1]};let n=e.match(/Claude\/(\d+\.\d+\.\d+)/);if(n)return{build:"Claude",version:n[1]}}function s(){let e=l();if(!e||"Claude"!==e.build||!(0,o.valid)(e.version)||!(0,o.gt)(e.version,"1.1.381"))return!1;let t=function(){if("undefined"==typeof navigator)return null;let e=navigator.userAgent.match(/Mac OS X (\d+)[_.]/);if(!e)return null;let t=parseInt(e[1],10);return isNaN(t)?null:t}();return null!==t&&t<26}},0x1c9feff0c:(e,t,n)=>{n.d(t,{B:()=>l,C:()=>s});var o=n(0x22102fd88),r=n(0xf8bd7957);let a=e=>{let{icon:t,name:n,path:a,size:l=60,imageSize:i=.5*l,...c}=e,u=t?s(t,a):"";return(0,o.jsx)(r.z,{size:l,imageSize:i,type:"external",src:u,name:n,...c})},l=e=>{var t,n,r,l,s;let{extension:i,...c}=e;return(0,o.jsx)(a,{icon:null==(t=i.manifest)?void 0:t.icon,name:null!=(s=null!=(l=null==(n=i.manifest)?void 0:n.display_name)?l:null==(r=i.manifest)?void 0:r.name)?s:i.displayName,path:i.path,...c})};function s(e,t){if(!e)return"";if(e.startsWith("data:"))return e;if(e.startsWith("https://"))return e.replace("https://","".concat("claude-image","://"));if(e.includes("://")||!t)return"";let n=t.replace(/\\/g,"/"),o=e.replace(/\\/g,"/"),r="".concat(n,"/").concat(o);return"file://".concat(r)}},0x1d0c32e96:(e,t,n)=>{n.d(t,{A9:()=>o.A9,HI:()=>o.HI,UF:()=>o.UF,ft:()=>o.ft,fx:()=>o.fx,kw:()=>o.kw});var o=n(0x193523923)},0x1dafb1ccf:(e,t,n)=>{n.d(t,{Ev:()=>b,GE:()=>_,IV:()=>x,LF:()=>S,Ns:()=>f,Qb:()=>p,VY:()=>v,Xf:()=>h,cN:()=>d,eG:()=>u,oS:()=>m,sw:()=>y});var o=n(0x20b939f38),r=n(0x2252bfeb8),a=n(0xac309a83),l=n(0x78b33fbd),s=n(0xfc89b4a4),i=n(0x1b58b00f5),c=n(0x239a8e4b4);let u="a8f3c7e2-4b9d-4f1a-8c3e-9d2a5b7f8e1c",d="Claude in Chrome",m="Claude for Chrome",p="https://claude.com/chrome?open_in_browser=1",f=e=>{let{uuid:t,name:n}=e;return t?t===u:!!n&&(n===d||n===m)},g=["claude-haiku-4-5","claude-sonnet-4-5","claude-opus-4-5","claude-opus-4-6"],v=()=>{let{value:e}=(0,l.useDynamicConfig)("chrome_ext_models"),t=null==e?void 0:e.options;return(0,s.useMemo)(()=>{if(Array.isArray(t)){let e=t.map(e=>"string"==typeof e?e:e.model).filter(Boolean);if(e.length>0)return e}return g},[t])},h=function(e,t,n){let o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:g;if(!f(e))return{isChromeExt:!1,disabledDueToModel:!1,disabledDueToSettings:!1,isDisabled:!1};let r=!!t&&!o.some(e=>t.startsWith(e)),a=!(null!=n?n:(0,c.DI)());return{isChromeExt:!0,disabledDueToModel:r,disabledDueToSettings:a,isDisabled:r||a}},_=(e,t,n)=>(!n||!!(0,c.DI)())&&(!t||!1!==t[e]),y=(e,t,n)=>e.some(e=>_(e,t,n)),b=()=>{let e=(0,a.fS)("chrome_ext_mcp_integration"),t=(0,o.h0)(),n=(0,o.mV)(),r=(0,i.g)();return(!n||!0===r)&&e&&t},S=()=>{let[e,t]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{var e,n;let o=e=>{t("chromeExtensionEnabled"in e)},a=null===r.W$||void 0===r.W$||null==(e=r.W$.getPreferences)?void 0:e.call(r.W$);return a&&a.then(o),null===r.W$||void 0===r.W$||null==(n=r.W$.onPreferencesChanged)?void 0:n.call(r.W$,o)},[]),e},x=(e,t,n,o)=>{if(!t||n.some(e=>t.startsWith(e))||0===o.length)return e;let r={...e};for(let e of o)r["local:".concat(d,":").concat(e)]=!1;return r}},0x219f38dbd:(e,t,n)=>{n.d(t,{o:()=>r});var o=n(0xff608010);function r(e){let t=(0,o.n)()?"/customize/connectors":"/settings/connectors";return e?"".concat(t,"?").concat(new URLSearchParams(e)):t}},0x21fe74567:(e,t,n)=>{n.d(t,{d:()=>o});let o=e=>{let{pathname:t,searchParams:n,queryString:o,shouldOpenInClaudeApp:r,isNestBuild:a}=e,l="".concat(t,"?").concat(o),s=n.get("origin");if(s)l=s;else if(r){let e=/^[0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12}$/i,n=t.startsWith("/project/")&&e.test(t.slice(9)),r=t.startsWith("/chat/")&&e.test(t.slice(6)),s=t.startsWith("/code"),i=t.startsWith("/claude-code-desktop"),c=t.startsWith("/settings"),u=t.startsWith("/customize"),d=t.slice(16),m=t.startsWith("/local_sessions/")&&e.test(d.replace(/^local_/,"")),p=n||r||s||i||c||u||m||"/new"===t?t:"/new";l="".concat(a?"claude-nest":"claude","://claude.ai").concat(p,"?").concat(o)}return l}},0x2252bfeb8:(e,t,n)=>{var o,r,a,l,s,i,c,u,d;n.d(t,{Fd:()=>v,N1:()=>b,TQ:()=>g,W$:()=>_,YQ:()=>p,a8:()=>f,lX:()=>y,oO:()=>m,un:()=>h});let m=null==(o=globalThis["claude.settings"])?void 0:o.AppConfig,p=null==(r=globalThis["claude.settings"])?void 0:r.Startup,f=null==(a=globalThis["claude.settings"])?void 0:a.GlobalShortcut,g=null==(l=globalThis["claude.settings"])?void 0:l.MCP,v=null==(s=globalThis["claude.settings"])?void 0:s.Extensions,h=null==(i=globalThis["claude.settings"])?void 0:i.FilePickers,_=null==(c=globalThis["claude.settings"])?void 0:c.AppPreferences,y=null==(u=globalThis["claude.settings"])?void 0:u.AppFeatures,b=null==(d=globalThis["claude.settings"])?void 0:d.DesktopInfo},0x22ebfe62e:(e,t,n)=>{n.d(t,{IO:()=>r,_z:()=>a,nx:()=>l,rb:()=>s});var o=n(0x1b813d90);let r="c1fc4002-5f49-5f9d-a4e5-93c4ef5d6a75",a="91beb235-2b5a-506c-ad07-d930c1119fcb",l="83fd827c-458e-5143-b2ff-484904737d48",s={[r]:{name:o.sb[o.v8.GDRIVE],syncSourceType:o.v8.GDRIVE},[a]:{name:o.sb[o.v8.GCAL],syncSourceType:o.v8.GCAL},[l]:{name:o.sb[o.v8.GMAIL],syncSourceType:o.v8.GMAIL}}},0x239a8e4b4:(e,t,n)=>{let o;n.d(t,{$m:()=>c,DI:()=>i,KE:()=>p,NJ:()=>v,Yj:()=>g,pr:()=>h,yM:()=>s});var r=n(0x2252bfeb8),a=n(0x394ef833);let l=(0,n(0x24066b06a).r)("chromeExtensionEnabled",!1),s=l.useEnabled,i=l.getEnabled,c=l.setEnabled,u=(0,a.v)(e=>({name:void 0,isInitialized:!1,_setName:t=>e({name:t}),_setInitialized:()=>e({isInitialized:!0})})),d=e=>{var t,n;let{_setName:o,_setInitialized:r}=u.getState();o(null!=(n=null==(t=e.chromeExtension)?void 0:t.pairedDeviceName)?n:void 0),r()},m=!1,p=()=>((()=>{var e,t;let n=u.getState();if(n.isInitialized||m)return;m=!0;let a=null===r.W$||void 0===r.W$||null==(e=r.W$.getPreferences)?void 0:e.call(r.W$);a?a.then(d).catch(()=>{n._setInitialized()}):n._setInitialized(),o||(o=null===r.W$||void 0===r.W$||null==(t=r.W$.onPreferencesChanged)?void 0:t.call(r.W$,d))})(),u(e=>e.name)),f=(0,a.v)(e=>({isSwitching:!1,setIsSwitching:t=>e({isSwitching:t})})),g=()=>f(e=>e.isSwitching),v=()=>f.getState().isSwitching,h=e=>f.getState().setIsSwitching(e)},0x24066b06a:(e,t,n)=>{n.d(t,{r:()=>a});var o=n(0x2252bfeb8),r=n(0x394ef833);function a(e,t){let n,a=(0,r.v)(e=>({isEnabled:t,isInitialized:!1,_setEnabled:t=>e({isEnabled:t}),_setInitialized:()=>e({isInitialized:!0})})),l=t=>{let{_setEnabled:n,_setInitialized:o}=a.getState();n(!0===t[e]),o()},s=()=>{var e,t;let r=a.getState();if(r.isInitialized)return;let s=null===o.W$||void 0===o.W$||null==(e=o.W$.getPreferences)?void 0:e.call(o.W$);s?s.then(l):r._setInitialized(),n||(n=null===o.W$||void 0===o.W$||null==(t=o.W$.onPreferencesChanged)?void 0:t.call(o.W$,l))};return{useEnabled:()=>(s(),a(e=>e.isEnabled)),getEnabled:()=>(s(),a.getState().isEnabled),setEnabled:e=>{a.getState()._setEnabled(e)}}}},0x246499564:(e,t,n)=>{n.d(t,{o:()=>o.o,u:()=>o.u});var o=n(0x22459cb4e)}}]);