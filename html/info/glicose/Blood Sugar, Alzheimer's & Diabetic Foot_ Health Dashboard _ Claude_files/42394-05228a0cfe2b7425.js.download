try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="a1dba5b6-f9d5-4bbd-80e8-ace95154bafe",e._sentryDebugIdIdentifier="sentry-dbid-a1dba5b6-f9d5-4bbd-80e8-ace95154bafe")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[42394],{0xdd00a1e9:(e,n,t)=>{t.d(n,{AM:()=>u,Bi:()=>f,DG:()=>A,FV:()=>j,MS:()=>g,RP:()=>v,Wn:()=>_,cm:()=>b,ms:()=>d,o_:()=>p,q:()=>w,tJ:()=>y});var a=t(0x22102fd88),r=t(0x11cf7113d),l=t(0x140c89839),i=t(0x1a1f6dda6),s=t(0x1fb5bdc42),o=t(0xfc89b4a4);function d(e){let{trigger:n,children:t,unstyledTrigger:r=!1,...l}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c,{...l,trigger:r?(0,a.jsx)(s.l9,{asChild:!0,children:n}):(0,a.jsx)(x,{asChild:!0,children:n}),children:t})})}function u(e){let{children:n,open:t,mainButtonText:r,onClickMainButton:o,triggerClassName:d,buttonClassName:u,align:f="end",...m}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(c,{...m,align:f,trigger:(0,a.jsxs)("div",{className:(0,i.A)("flex h-8 whitespace-nowrap",d),children:[(0,a.jsx)("button",{className:(0,i.A)("font-base-bold !text-xs rounded-l-lg bg-bg-000 h-full flex items-center justify-center px-2 border-y-0.5 border-l-0.5 border-border-200 hover:bg-bg-200",t&&"bg-bg-200",u),onClick:o,children:r}),(0,a.jsx)(s.l9,{asChild:!0,children:(0,a.jsx)("button",{className:(0,i.A)("bg-bg-000 flex items-center justify-center px-1 hover:bg-bg-200 rounded-r-lg border-0.5 border-border-200",u),children:(0,a.jsx)(l.b,{size:16})})})]}),children:n})})}function c(e){var n;let{matchTriggerWidth:t=!1,children:r,open:l,onOpenChange:i,trigger:o,modal:d,...u}=e;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(s.bL,{open:l,onOpenChange:i,modal:d,children:[o,(0,a.jsx)(s.ZL,{children:(0,a.jsx)(m,{style:t?{width:"var(--radix-dropdown-menu-trigger-width)"}:void 0,sideOffset:null!=(n=u.sideOffset)?n:4,...u,children:r})})]})})}let f=(0,o.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)(s.lp,{ref:n,className:(0,i.A)("outline-none py-2 px-1.5 -mx-1 -mt-1 mb-1 border-b-0.5 border-border-200",t),...r})});f.displayName="DropdownInputHeader";let m=(0,o.forwardRef)((e,n)=>{let{className:t,...l}=e;return(0,a.jsx)(s.UC,{ref:n,className:(0,i.A)("p-1.5",r.io,r.dk,t),...l})});m.displayName="Content";let x=(0,o.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)(s.l9,{ref:n,className:(0,i.A)("rounded py-1 px-2 max-w-full whitespace-nowrap text-ellipsis overflow-hidden",t),...r})});x.displayName="Trigger";let v=s.I,g=s.Pb,b=s.ZL,p=(0,o.forwardRef)((e,n)=>{let{className:t,...l}=e;return(0,a.jsx)(s.lp,{ref:n,className:(0,i.A)(r.bS,t),...l})});p.displayName="DropdownLabel";let h=(0,o.forwardRef)((e,n)=>{let{className:t,disabled:l,danger:o,...d}=e;return(0,a.jsx)(s.q7,{ref:n,className:(0,i.A)(r.MQ,l&&r.BK,o&&r.uz,t),...d})});h.displayName="BaseDropdownItem";let y=(0,o.forwardRef)((e,n)=>{let{children:t,icon:r,trailing:l,...i}=e;return r||l?(0,a.jsx)(h,{ref:n,...i,children:(0,a.jsxs)("div",{className:"flex items-center gap-2 w-full font-base group",children:[r,(0,a.jsx)("span",{className:"flex-1 truncate",children:t}),l&&(0,a.jsx)("div",{className:"flex items-center flex-shrink-0 -mr-2",children:l})]})}):(0,a.jsx)(h,{ref:n,...i,children:t})});function w(e){let{className:n,...t}=e;return(0,a.jsx)("div",{className:(0,i.A)("font-base min-h-8 px-2 py-1.5 rounded-lg whitespace-nowrap overflow-hidden text-ellipsis flex justify-between gap-2 items-center",n),...t})}y.displayName="DropdownItem";let _=(0,o.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)(s.ZP,{ref:n,className:(0,i.A)('font-base min-h-8 px-2 py-1.5 rounded-lg cursor-pointer whitespace-nowrap overflow-hidden text-ellipsis grid grid-cols-[minmax(0,_1fr)_auto] gap-2 items-center outline-none select-none [&[data-highlighted]]:bg-bg-200 [&[data-highlighted]]:text-text-300 [&[data-state="open"]:not([data-highlighted])]:bg-bg-100 [&[data-state="open"]:not([data-highlighted])]:text-text-300',t),...r})});_.displayName="DropdownSubTrigger";let j=(0,o.forwardRef)((e,n)=>{let{className:t,...l}=e;return(0,a.jsx)(s.G5,{ref:n,className:(0,i.A)("p-1.5",r.io,"max-h-[calc(100vh-16px)] overflow-y-auto overflow-x-hidden",t),...l})});j.displayName="DropdownSubContent";let A=(0,o.forwardRef)((e,n)=>{let{className:t,...l}=e;return(0,a.jsx)(s.mB,{ref:n,className:(0,i.A)(r.uR,t),...l})});A.displayName="DropdownSeparator"},0xe6c3f31e:(e,n,t)=>{t.d(n,{O4:()=>o,h_:()=>a,ms:()=>r,q6:()=>u});let a=e=>e.startsWith("local_");function r(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"remote",a=arguments.length>3?arguments[3]:void 0;return"local"===t?function(e){if(0===e.length)return!1;for(let n=e.length-1;n>=0;n--){let t=e[n];if((null==t?void 0:t.type)==="result")break;if((null==t?void 0:t.type)==="user")return!s(t)&&!function(e){var n,t,a;let r=null==(n=e.message)?void 0:n.content;return o("string"==typeof r?r:Array.isArray(r)&&null!=(a=null==(t=r[0])?void 0:t.text)?a:"")}(t);if((null==t?void 0:t.type)==="assistant")return!d(t)}return!1}(e):n.length>0||"compacting"===a||function(e){let n=e.filter(e=>{var n;return!l.has(e.type)&&!("system"===e.type&&i.has(null!=(n=e.subtype)?n:""))}),t=n[n.length-1];return!!t&&"result"!==t.type&&("user"===t.type?!s(t):"assistant"!==t.type||!d(t))}(e)}let l=new Set(["env_manager_log","keep_alive","control_response","tool_use_summary"]),i=new Set(["hook_progress","hook_response","init","local_command_output"]);function s(e){var n,t,a;let r=null==(n=e.message)?void 0:n.content;if(Array.isArray(r)){let e=null!=(a=null==(t=r[0])?void 0:t.text)?a:"";return"[Request interrupted by user]"===e||"[Request interrupted by user for tool use]"===e}return!1}function o(e){return e.includes("<command-name>")||e.includes("<local-command-stdout>")||e.includes("<local-command-stderr>")||e.includes("<bash-input>")||e.includes("<bash-stdout>")||e.includes("<bash-stderr>")}function d(e){var n,t;if(e.isApiErrorMessage||(null==(n=e.message)?void 0:n.stop_reason)==="end_turn")return!0;let a=null==(t=e.message)?void 0:t.content;if(Array.isArray(a)&&a.length>0){let e=a[a.length-1];if((null==e?void 0:e.type)==="text")return!0}return!1}function u(e){let{message:n,sessionId:t,track:a,knownCommands:r}=e,l=n.trim();if(!l.startsWith("/"))return;let i=l.slice(1).split(" ")[0];i&&r.includes(i)&&a({event_key:"claudeai.cowork.slash_command.invoked",session_id:t,is_plugin:i.indexOf(":")>0})}},0xecd80d84:(e,n,t)=>{t.d(n,{Qp:()=>c,eF:()=>u,w5:()=>d});var a=t(0x12c9046cd),r=t(0x20b939f38),l=t(0xac309a83),i=t(0x10a2d47e3),s=t(0x17e725145),o=t(0x4d348f95);let d=()=>(0,l.fS)("fiddlehead"),u=()=>{let{activeOrganization:e}=(0,r.YL)(),n=null==e?void 0:e.uuid,t=d(),l=(0,i.wc)(),{data:s,isFetched:u}=(0,a.Sk)("/api/oauth/organizations/".concat(n,"/oauth_tokens"),{enabled:!!(n&&t),staleTime:3e5}),c=(0,o.useSearchParams)().get("debug_fiddlehead_auth_override"),f=l[i.me],m=f&&(null==s?void 0:s.some(e=>e.application_name===f));return{isAuthenticated:null!==c?"1"===c:m,isFetched:u,initAuth:()=>{window.open(l[i.vf],"_blank")}}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,r.YL)(),t=null==n?void 0:n.uuid,l=d(),i=(0,s.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(t,"/fiddlehead/disconnect_and_delete_all"),"POST",{enabled:!!(n&&l),...e,onSuccess:function(){for(var n,a=arguments.length,r=Array(a),l=0;l<a;l++)r[l]=arguments[l];i.invalidateQueries({queryKey:["/api/oauth/organizations/".concat(t,"/oauth_tokens")]}),null==(n=e.onSuccess)||n.call(e,...r)}})}},0xfb91a209:(e,n,t)=>{t.d(n,{Q:()=>o,t:()=>d});var a=t(0x22102fd88),r=t(0x286b4261),l=t.n(r),i=t(0xfc89b4a4);let s=(0,i.createContext)({isOpen:!1,dropdownToOpen:void 0,openModal:l(),closeModal:l(),clearCallerIdentifier:l()}),o=e=>{let{children:n}=e,[t,r]=(0,i.useState)(!1),l=(0,i.useRef)(void 0),[o,d]=(0,i.useState)(void 0);return(0,a.jsx)(s.Provider,{value:{isOpen:t,openModal:e=>{r(!0),l.current=e},closeModal:()=>{r(!1),d(l.current)},dropdownToOpen:o,clearCallerIdentifier:()=>{d(void 0)}},children:n})},d=()=>(0,i.useContext)(s)},0x1065e58a2:(e,n,t)=>{t.d(n,{AI:()=>d,I5:()=>u,n0:()=>o,qp:()=>c,so:()=>f});var a=t(0x12c9046cd),r=t(0x20b939f38),l=t(0x49fac030);t(0x1b813d90);var i=t(0x17e725145);t(0xfc89b4a4);var s=t(0x18175ce17);let o=e=>{let{uri:n}=e,{data:t,isLoading:i}=(e=>{let{documentId:n}=e,{account:t,activeOrganization:i}=(0,r.YL)(),s=null==t?void 0:t.uuid,o=null==i?void 0:i.uuid,u=d();return(0,a.Sk)("/api/organizations/".concat(o,"/sync/mcp/outline/document/").concat(n),{queryKey:[l.hqp,{accountUUID:s,orgUuid:o,documentId:n}],enabled:u})})({documentId:n});return{title:null==t?void 0:t.title,isLoading:i}},d=()=>{let{data:e}=(0,s.LN)();return!1},u=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{activeOrganization:n}=(0,r.YL)(),t=(0,r.a1)(),i=(0,r.Hb)(),s=d(),{data:o,refetch:u}=(0,a.Sk)("/api/organizations/".concat(i,"/sync/mcp/outline/auth"),{queryKey:[l.iPW,{accountUUID:t,orgUuid:i}],enabled:!!(n&&s),staleTime:5e3}),{mutate:c,isPending:f}=(0,a.L2)("/api/organizations/".concat(i,"/sync/mcp/outline/auth/start"),"POST",{enabled:!!(n&&s),...e,onSuccess:function(){for(var n,t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];null==(n=e.onSuccess)||n.call(e,...a)}});return{isOutlineAuthenticated:!!(null==o?void 0:o.is_authenticated),refetch:u,initOutlineAuth:c,isLoadingOutlineAuthInit:f}},c=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,r.YL)(),s=null==n?void 0:n.uuid,o=null==t?void 0:t.uuid,u=d(),c=(0,i.useQueryClient)();return(0,a.L2)("/api/organizations/".concat(o,"/sync/mcp/outline/auth"),"DELETE",{enabled:!!(t&&u),...e,onSuccess:function(){for(var n,t=arguments.length,a=Array(t),r=0;r<t;r++)a[r]=arguments[r];c.invalidateQueries({queryKey:[l.iPW,{accountUUID:s,orgUuid:o}]}),null==(n=e.onSuccess)||n.call(e,...a)}})},f=e=>{let n=window.location.href;window.location.href="".concat(e,"?").concat(new URLSearchParams({redirect_url:n,open_outline_auth:"true"}))}},0x11c7a82c2:(e,n,t)=>{t.d(n,{R:()=>a.R});var a=t(0x1c4b61688)},0x1334f6ecc:(e,n,t)=>{t.d(n,{$f:()=>q,Gk:()=>N,K6:()=>P,L5:()=>z,LP:()=>S,U5:()=>I,cI:()=>k,cj:()=>L,ef:()=>Y,fb:()=>F,kJ:()=>E,qL:()=>T,vT:()=>G,y:()=>R,yy:()=>C,zF:()=>M,zH:()=>O});var a=t(0x17aa9d8d7),r=t(0x12c9046cd),l=t(0x20b939f38),i=t(0x10728a05e),s=t(0x49fac030),o=t(0xac309a83),d=t(0x1b813d90),u=t(0x1bd175d8c),c=t(0x17e725145),f=t(0x4d348f95),m=t(0xfc89b4a4),x=t(0x1ab0d1ca1),v=t(0x87b1176c),g=t(0xfb91a209),b=t(0x187ab14f6),p=t(0x219f38dbd),h=t(0x1b910c896),y=t(0x21fe74567),w=t(0x31c535e9),_=t(0x18175ce17),j=t(0xc6857cab);let A="gdrive_success",C=()=>{let e=(0,l.mV)(),{data:n}=(0,_.LN)(),t=(0,_.kO)(),a=(0,_.qi)(d.v8.GDRIVE),r=!1;if(t){var i;let e=Array.isArray(n)?n.find(e=>e.type===d.v8.MCP_RESOURCES):null;(null==a?void 0:a.uuid)&&(null==e||null==(i=e.config)?void 0:i.servers)&&(r=!!e.config.servers[a.uuid])}else r=!!(Array.isArray(n)&&n.find(e=>e.type===d.v8.GDRIVE&&e.enabled));return!e||r},D=()=>(0,o.fS)("kingfisher_enabled"),S=()=>{let e=C(),n=D();return!!(!j.env.NEXT_PUBLIC_DISABLE_GDRIVE_INTEGRATION&&n&&e)},E=()=>{let{activeOrganization:e}=(0,l.YL)(),n=(0,l.a1)(),t=(0,l.Hb)(),a=S(),{data:i,isFetched:o}=(0,r.Sk)("/api/organizations/".concat(t,"/sync/mcp/drive/auth"),{queryKey:[s.jRS,{accountUUID:n,orgUuid:t}],enabled:!!e&&a,staleTime:0});return{isAuthenticated:a&&!!(null==i?void 0:i.is_authenticated),isFetched:o}},N=()=>{let e=D(),n=(0,_.kO)(),t=(0,_.dJ)(d.v8.GDRIVE),a=(0,_.hm)(d.v8.GDRIVE);return!!e&&(n?t:a)},k=function(){let{callerIdentifier:e,handleAuthSuccess:n,pathname:t,queryString:a}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=(0,_.kO)(),{isAuthenticated:v,startAuth:b,isFetched:w}=(0,_.ob)(d.v8.GDRIVE,{callerIdentifier:e,handleAuthSuccess:n,pathname:t,queryString:a}),{isAuthenticated:j,isFetched:C}=E(),{addSuccess:D}=(0,i.Yf)(),N=(0,x.A)(),{dropdownToOpen:k,clearCallerIdentifier:L}=(0,g.t)(),I=function(){let e=!(arguments.length>0)||void 0===arguments[0]||arguments[0];null==n||n(e),D(N.formatMessage({defaultMessage:"Connected to Google Drive",id:"ij6u4TNsGF"}))},R=(e=>{let{callerIdentifier:n,pathname:t,queryString:a}=e,i=(0,f.usePathname)(),{account:o,activeOrganization:d}=(0,l.YL)(),x=null==o?void 0:o.uuid,v=null==d?void 0:d.uuid,g=S(),b=(0,c.useQueryClient)(),w=(0,u.V)(),_=(0,p.o)(),j=(0,f.useSearchParams)(),{mutate:C}=(0,r.L2)("/api/organizations/".concat(v,"/sync/mcp/drive/auth/start"),"POST",{enabled:g,onSuccess:e=>{window.location.href=e.redirect_url}}),D=(0,m.useRef)(!1);return()=>{var e;if(!g)return;let r="".concat(A,"=").concat(n).concat(a?"&".concat(a):""),l=(0,y.d)({pathname:t||i,searchParams:j,queryString:r,shouldOpenInClaudeApp:w,isNestBuild:(null==(e=(0,h.B7)())?void 0:e.build)==="ClaudeNest"});if(b.invalidateQueries({queryKey:[s.jRS,{accountUUID:x,orgUuid:v}]}),w)return void window.open("".concat(_,"?").concat(new URLSearchParams({open_in_browser:"1",auth_start:"gdrive",origin:l})));D.current||(D.current=!0,C({pre_auth_state:{origin:l},redirect_uri:new URL("/connect/mcp/drive/callback",window.location.origin).toString()}))}})({callerIdentifier:e,pathname:t,queryString:a});return((0,_.FZ)({callerIdentifier:e,successParam:A,handleOpen:I}),(0,m.useEffect)(()=>{e&&k===e&&(null==n||n(!0),L())},[k,n,e,L]),o)?{isDriveAuthenticated:v,initDriveAuth:b,handleDriveTrigger:I,isFetched:w}:{isDriveAuthenticated:j,initDriveAuth:R,handleDriveTrigger:I,isFetched:C}},L=()=>{let e=(0,_.kO)(),n=(0,_.qi)(d.v8.GDRIVE);return{serverId:null==n?void 0:n.uuid,isConnected:null==n?void 0:n.isConnected,isEnabled:e}},I=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{account:n,activeOrganization:t}=(0,l.YL)(),a=null==n?void 0:n.uuid,i=null==t?void 0:t.uuid,o=S(),d=(0,c.useQueryClient)(),{mutate:u}=(0,v.ih)();return(0,r.L2)("/api/organizations/".concat(i,"/sync/mcp/drive/auth"),"DELETE",{enabled:!!(t&&o),...e,onSuccess:function(){for(var n,t=arguments.length,r=Array(t),l=0;l<t;l++)r[l]=arguments[l];d.invalidateQueries({queryKey:[s.jRS,{accountUUID:a,orgUuid:i}]}),u({}),null==(n=e.onSuccess)||n.call(e,...r)}})},R=e=>{let{documentId:n}=e,{account:t,activeOrganization:a}=(0,l.YL)(),i=null==t?void 0:t.uuid,o=null==a?void 0:a.uuid,d=S(),u=(0,c.useQueryClient)(),f=(0,r.Sk)("/api/organizations/".concat(o,"/sync/mcp/drive/document/").concat(n,"?include_content=false"),{queryKey:[s.QBp,{accountUUID:i,orgUuid:o,documentId:n}],enabled:d,meta:{noToast:!0}}),x=f.isError;return(0,m.useEffect)(()=>{x&&u.invalidateQueries({queryKey:[s.jRS,{accountUUID:i,orgUuid:o}]})},[u,x,i,o]),f};function M(e){let{uri:n}=e,{data:t,isLoading:a}=R({documentId:n});return{title:null==t?void 0:t.title,isLoading:a}}let T=e=>{let{account:n,activeOrganization:t}=(0,l.YL)(),a=null==n?void 0:n.uuid,i=null==t?void 0:t.uuid,o=S(),d=(0,m.useMemo)(()=>e.map(e=>"/api/organizations/".concat(i,"/sync/mcp/drive/document/").concat(e)),[e,i]),u=(0,m.useMemo)(()=>({queryKey:e.map(e=>[s.qMf,{accountUUID:a,orgUuid:i,documentId:e}]),enabled:o,meta:{noToast:!0}}),[e,a,i,o]);return(0,r._i)(d,u)},O=e=>{let{activeOrganization:n}=(0,l.YL)(),t=(0,l.a1)(),a=(0,l.Hb)(),i=S(),o=(0,b.bI)(),{data:d,isSuccess:u,isLoading:c}=(0,r.Sk)("/api/organizations/".concat(a,"/sync/mcp/drive/recents"),{queryKey:[s.zus,{accountUUID:t,orgUuid:a}],enabled:e&&!!n&&i,meta:{noToast:!0}});return(0,m.useEffect)(()=>{if(u&&d){let e=d.map(e=>{let{uri:n,title:t}=e;return{uri:n,title:t}});(0,b.Ac)(e)}},[u,d]),{recentDriveDocs:u?d:o,isLoading:c}},F=()=>{let e=D(),n=(0,o.fS)("apps_use_bananagrams");return e&&n},P=()=>{let e=S(),n=F();return e&&n&&!j.env.NEXT_PUBLIC_DISABLE_GDRIVE_INTEGRATION},q=e=>{var n;let t=P(),{account:a}=(0,l.YL)(),r=(0,o.fS)("claude_ai_sticky_project_settings"),i=(0,w.vP)("enabled_bananagrams");return!!t&&(r?!!i:e?!!(null==e||null==(n=e.conversationSettings)?void 0:n.enabled_bananagrams):!!(null==a?void 0:a.settings.enabled_bananagrams))},z=()=>(0,o.fS)("rag_prototype"),G=()=>{let e=P(),n=(0,l.mV)(),{data:t}=(0,_.LN)(),{account:a}=(0,l.YL)(),r=z(),i=(0,_.kO)(),s=(0,_.qi)(d.v8.GDRIVE);if(!e||!r)return!1;if(n)if(!i)return!!(Array.isArray(t)&&t.find(e=>{var n;return e.type===d.v8.GDRIVE&&e.enabled&&(null==(n=e.config)?void 0:n.allow_indexing)}));else{var o;let e=Array.isArray(t)?t.find(e=>e.type===d.v8.MCP_RESOURCES):null;if((null==s?void 0:s.uuid)&&(null==e||null==(o=e.config)?void 0:o.servers)){let n=e.config.servers[s.uuid];return!!(null==n?void 0:n.allow_indexing)}return!1}return!!(null==a?void 0:a.settings.enabled_gdrive_indexing)},Y=()=>{let{account:e}=(0,l.YL)(),{mutate:n}=(0,a.yJ)(),{mutate:t}=(0,v.Bg)();return{toggleDriveSearchAndIndexingEnabled:a=>{var r;let{indexingEnabled:l,searchEnabled:i,dismissBanner:s}=a,o=s||!!l;l&&t({}),n({...void 0!==l?{enabled_gdrive_indexing:l}:null,...void 0!==i||!0===l?{enabled_bananagrams:null!=l?l:i}:null,...o?{dismissed_claudeai_banners:[...(null==e||null==(r=e.settings)?void 0:r.dismissed_claudeai_banners)||[],{banner_id:"drive_indexing_enablement_2/11_1",dismissed_at:new Date().toISOString()}]}:null})}}}},0x140c89839:(e,n,t)=>{t.d(n,{b:()=>a.b});var a=t(0xe5667b61)},0x1449f94a5:(e,n,t)=>{t.d(n,{Hg:()=>a,Hu:()=>l,UL:()=>i,fM:()=>r});let a="/task/new",r="/local_sessions",l="/scheduled-task",i="/claude-code-desktop"},0x155df12ed:(e,n,t)=>{t.d(n,{I_:()=>g,Ky:()=>x,aF:()=>v,s_:()=>m,vW:()=>c,yl:()=>f});var a=t(0x22102fd88),r=t(0x1519f5391),l=t(0xedac311),i=t(0x1a1f6dda6),s=t(0x4d348f95),o=t(0x1dc42fcee),d=t(0xfc89b4a4),u=t(0x1cf5ab98a);function c(e){let{children:n,layout:t="right",className:r}=e;return(0,a.jsx)("div",{className:(0,i.A)("mt-4 flex flex-col gap-2","left"===t&&"sm:flex-row","center"===t&&"justify-center sm:flex-row","right"===t&&"sm:flex-row justify-end","between"===t&&"justify-between sm:flex-row",r),children:n})}function f(e){let{...n}=e;return(0,a.jsx)(u.$,{...n})}function m(e){let{onClose:n,className:t,"aria-label":l}=e;return(0,a.jsx)(u.$,{size:"icon_sm",variant:"ghost",className:(0,i.A)("!text-text-500 hover:!text-text-400 -mx-2",t),onClick:()=>n(),"aria-label":l,children:(0,a.jsx)(r.X,{size:16})})}let x=e=>{let{queryParamKey:n="modal",queryParamValue:t,isOpen:a,handleOpenModal:r}=e,i=(0,d.useRef)(!1),o=(0,s.useSearchParams)(),u=(0,l.useUpdateSearchParams)(),c=o.get(n)===t;(0,d.useEffect)(()=>{!i.current&&c&&r()},[c,r]),(0,d.useEffect)(()=>{a&&(i.current=!0)},[a]),(0,d.useEffect)(()=>{!a&&i.current&&c?u(n,null):a&&!c&&u(n,t)},[a,c,u,n,t])};function v(e){return(0,a.jsx)(b,{...e})}function g(e){return(0,a.jsx)(b,{unstyled:!0,...e})}function b(e){let{title:n,subtitle:t,isOpen:r,className:l,children:s,onClose:u,icon:c,modalSize:f="md",backgroundColor:x,autoCloseOnFocusOut:v=!0,closeOnEscapeKeydown:g=!0,fullWidth:b=!0,fullHeight:y,hasCloseButton:w=!1,closeButtonClassName:_,prependBeforeCloseButton:j,overlayChildren:A,overlayClassName:C,autoFocusOnOpen:D=!0,returnFocusOnClose:S=!0,unstyled:E=!1,animationDuration:N=250,overlayOpacity:k=.5}=e,[L,I]=(0,d.useState)(!1),R=(0,d.useRef)(null),M=(0,d.useRef)(null);(0,d.useEffect)(()=>{I(!0)},[]),(0,d.useEffect)(()=>{r&&S&&(R.current=document.activeElement)},[r,S]),(0,d.useEffect)(()=>{if(r||!S||!R.current)return;let e=R.current,n=null!==e.getAttribute("data-radix-dropdown-menu-trigger")||null!==e.closest("[data-radix-dropdown-menu-trigger]"),t=document.contains(e)&&null!==e.offsetParent&&"hidden"!==getComputedStyle(e).visibility,a=setTimeout(()=>{if(!n&&t){var e;null==(e=R.current)||e.focus()}R.current=null},50);return()=>clearTimeout(a)},[r,S]);let T=e=>{v||e.preventDefault()},O=e=>{e.stopPropagation(),g||e.preventDefault()},[F,P]=(0,d.useState)(!1),q=Math.ceil(N/2);return((0,d.useEffect)(()=>{if(r)return void P(!0);let e=window.setTimeout(()=>{P(!1)},q),n=setTimeout(()=>{document.body.style.pointerEvents="auto"},N+100);return()=>{window.clearTimeout(e),window.clearTimeout(n)}},[r,N,q]),L)?(0,a.jsx)(o.bL,{open:r,onOpenChange:e=>{e||u()},children:F&&(0,a.jsx)(o.ZL,{forceMount:!0,children:(0,a.jsxs)(p,{forceMount:!0,className:C,style:{"--modal-animation-duration":"".concat(N,"ms"),"--modal-close-duration":"".concat(q,"ms"),"--modal-overlay-opacity":k},children:[E?(0,a.jsx)(o.UC,{forceMount:!0,ref:M,"aria-describedby":void 0,onOpenAutoFocus:e=>{D||e.preventDefault()},onInteractOutside:T,onEscapeKeyDown:O,className:l,children:s}):(0,a.jsx)(h,{forceMount:!0,ref:M,...!t&&{"aria-describedby":void 0},onOpenAutoFocus:e=>{D||e.preventDefault()},onInteractOutside:T,onEscapeKeyDown:O,style:{"--modal-animation-duration":"".concat(N,"ms"),"--modal-close-duration":"".concat(q,"ms")},className:(0,i.A)("min-w-0",l,b&&"w-full",y&&"h-full","sm"===f&&"max-w-sm","md"===f&&"max-w-md","lg"===f&&"max-w-lg","2lg"===f&&"max-w-xl","xl"===f&&"max-w-3xl","2xl"===f&&"max-w-5xl","3xl"===f&&"max-w-6xl",null!=x?x:"bg-bg-100"),children:(0,a.jsxs)("div",{className:(0,i.A)("min-h-full",!!(n||j||w||t)&&"flex flex-col",y&&"w-full h-full"),children:[!!(n||j||w)&&(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:(0,i.A)("flex items-center gap-4",n?"justify-between":"justify-end"),children:[n&&(0,a.jsxs)(o.hE,{className:"font-xl-bold text-text-100 flex w-full min-w-0 items-center leading-6 break-words",children:[c&&(0,a.jsx)("span",{className:"mr-2",children:c}),(0,a.jsx)("span",{className:"[overflow-wrap:anywhere]",children:n})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[j,w&&(0,a.jsx)(m,{onClose:u,className:_})]})]})}),t&&(0,a.jsx)(o.VY,{className:"text-text-300 mb-2 text-sm",children:t}),s]})}),A]})})}):null}let p=(0,d.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)(o.hJ,{ref:n,className:(0,i.A)('fixed z-modal inset-0 grid items-center justify-items-center bg-always-black overflow-y-auto md:p-10 p-4 [background-color:hsl(var(--always-black)/var(--modal-overlay-opacity,0.5))] backdrop-brightness-75 data-[state="open"]:[animation:fade_var(--modal-animation-duration,250ms)_ease-out_forwards] data-[state="closed"]:[animation:fade_var(--modal-close-duration,125ms)_ease-in_reverse_forwards]',t),...r})});p.displayName="Overlay";let h=(0,d.forwardRef)((e,n)=>{let{className:t,...r}=e;return(0,a.jsx)(o.UC,{ref:n,className:(0,i.A)('flex flex-col focus:outline-none relative text-text-100 text-left shadow-xl border-0.5 border-border-300 rounded-2xl md:p-6 p-4 align-middle data-[state="open"]:[animation:zoom_var(--modal-animation-duration,250ms)_ease-out_forwards] data-[state="closed"]:[animation:zoom_var(--modal-close-duration,125ms)_ease-in_reverse_forwards]',t),...r})});h.displayName="Content"},0x180e403f7:(e,n,t)=>{t.d(n,{m:()=>p});var a=t(0x22102fd88),r=t(0x19273021e),l=t(0x20b939f38),i=t(0x10728a05e),s=t(0x11c7a82c2),o=t(0x1b813d90),d=t(0x10a2d47e3),u=t(0xfc89b4a4),c=t(0x1ab0d1ca1),f=t(0x1d302b010),m=t(0x1334f6ecc),x=t(0xecd80d84),v=t(0xe0c26d90),g=(t(0x1065e58a2),t(0x18175ce17)),b=t(0x20095e84e);function p(e){let{type:n,server:t,onClose:r,onDisconnect:l}=e;if(t)return(0,a.jsx)(_,{server:t,onClose:r,onDisconnect:l});switch(n){case o.v8.GITHUB:return(0,a.jsx)(h,{onClose:r,onDisconnect:l});case o.v8.GDRIVE:return(0,a.jsx)(y,{onClose:r,onDisconnect:l});case o.v8.OUTLINE:return;case o.v8.FIDDLEHEAD:return(0,a.jsx)(j,{onClose:r,onDisconnect:l});case o.v8.CUTTLEFISH:return(0,a.jsx)(A,{onClose:r,onDisconnect:l});default:return(0,a.jsx)(w,{type:n,onClose:r,onDisconnect:l})}}function h(e){let{onClose:n,onDisconnect:t}=e,{mutate:r,isPending:l}=(0,v.rW)(),i=(0,u.useCallback)(()=>{r(),null==t||t()},[r,t]);return(0,a.jsx)(C,{name:"GitHub",onDisconnect:i,disconnecting:l,onClose:n})}function y(e){let{onClose:n,onDisconnect:t}=e,{mutate:r,isPending:l}=(0,m.U5)(),i=(0,c.A)(),s=(0,u.useCallback)(()=>{r(),null==t||t()},[r,t]);return(0,a.jsx)(C,{name:"Google Drive",onDisconnect:s,disconnecting:l,onClose:n,modalMessageOverride:i.formatMessage({defaultMessage:"You won’t be able to continue any previous chats that reference content from Google Docs.",id:"Zi7eVRnAwf"})})}function w(e){let{type:n,onClose:t,onDisconnect:r}=e,{disconnect:l}=(0,g.ob)(n),i=(0,u.useCallback)(()=>{l(),null==r||r()},[l,r]);return(0,a.jsx)(C,{name:(0,b.xI)(n),onDisconnect:i,disconnecting:!1,onClose:t})}function _(e){let{server:n,onClose:t,onDisconnect:r}=e,s=(0,c.A)(),{activeOrganization:o}=(0,l.YL)(),{addError:d}=(0,i.Yf)(),{mutate:m,isPending:x}=(0,f.W3)((null==o?void 0:o.uuid)||"",n.uuid,{onSuccess:()=>{null==r||r(),t()},onError:e=>{d(s.formatMessage({defaultMessage:"Failed to disconnect from server",id:"L488a5jdgF"}),{error:e,messageForLogging:"Failed to disconnect from server"})}}),v=(0,u.useCallback)(()=>{m()},[m]);return(0,a.jsx)(C,{name:n.name,onDisconnect:v,disconnecting:x,onClose:t})}function j(e){let{onClose:n,onDisconnect:t}=e,{mutate:r,isPending:l}=(0,x.Qp)(),i=(0,b.ak)(),s=(0,d.wc)(),c=s[d.BU],f=s[d.jT],m=s[d.fh],v=(0,u.useCallback)(()=>{r(),null==t||t()},[r,t]);return(0,a.jsx)(C,{name:i(o.v8.FIDDLEHEAD),onDisconnect:v,disconnecting:l,onClose:n,modalMessageOverride:c,modalTitleOverride:f,modalButtonOverride:m})}function A(e){let{onClose:n,onDisconnect:t}=e,{mutate:l,isPending:i}=(0,r.fH)(),s=(0,b.ak)(),d=(0,u.useCallback)(()=>{l(),null==t||t()},[l,t]);return(0,a.jsx)(C,{name:s(o.v8.CUTTLEFISH),onDisconnect:d,disconnecting:i,onClose:n})}function C(e){let{name:n,onDisconnect:t,disconnecting:r,onClose:l,modalMessageOverride:i,modalTitleOverride:o,modalButtonOverride:d}=e,u=(0,c.A)(),f=null!=o?o:u.formatMessage({defaultMessage:"Disconnect {integrationName}?",id:"MUrNVj88RO"},{integrationName:n}),m=null!=d?d:u.formatMessage({defaultMessage:"Disconnect",id:"qj1uhzynub"}),x=null!=i?i:u.formatMessage({defaultMessage:"You can still continue previous chats that reference {integrationName} content. However, Claude won’t be able to access new content or perform new tasks.",id:"tlmLidjA7e"},{integrationName:n});return(0,a.jsx)(s.R,{isOpen:!0,onClose:l,title:f,onConfirm:()=>{t(),l()},confirmText:m,variant:"danger",autoFocus:!1,message:x,size:"md",isLoading:r})}},0x1b03847fb:(e,n,t)=>{t.d(n,{AM:()=>a.AM,Bi:()=>a.Bi,DG:()=>a.DG,FV:()=>a.FV,MS:()=>a.MS,RP:()=>a.RP,Wn:()=>a.Wn,cm:()=>a.cm,ms:()=>a.ms,o_:()=>a.o_,q:()=>a.q,tJ:()=>a.tJ});var a=t(0xdd00a1e9)},0x1b370f49d:(e,n,t)=>{t.d(n,{m:()=>a.Tooltip});var a=t(0xb3796c53)},0x1c4b61688:(e,n,t)=>{t.d(n,{R:()=>s});var a=t(0x22102fd88),r=t(0xfc89b4a4),l=t(0x1cf5ab98a),i=t(0x155df12ed);let s=(0,r.memo)(e=>{let{isOpen:n,onClose:t,onConfirm:s,title:o,message:d,confirmText:u="Confirm",cancelText:c="Cancel",variant:f="primary",isLoading:m,disabled:x=!1,autoFocus:v=!0,testId:g,children:b,size:p="sm"}=e,[h,y]=(0,r.useState)(!1),w=null!=m?m:h,_=(0,r.useCallback)(async()=>{if(!x&&!w){y(!0);try{let e=s();e&&"function"==typeof e.then&&await e,t()}finally{y(!1)}}},[s,t,x,w]),j=(0,r.useCallback)(()=>{w||t()},[t,w]);return(0,a.jsxs)(i.aF,{isOpen:n,onClose:j,title:o,modalSize:p,closeOnEscapeKeydown:!w,children:[(0,a.jsxs)("div",{className:"mt-1.5 mb-2",children:[d&&(0,a.jsx)("div",{className:"text-text-300 whitespace-pre-line",children:d}),b]}),(0,a.jsxs)(i.vW,{children:[(0,a.jsx)(l.$,{variant:"secondary",onClick:j,disabled:w,children:c}),(0,a.jsx)(l.$,{variant:"danger"===f?"danger":"primary",onClick:_,disabled:x||w,loading:w,autoFocus:v,"data-testid":g||"confirmation-modal-confirm",children:u})]})]})});s.displayName="ConfirmationModal"},0x20095e84e:(e,n,t)=>{t.d(n,{ak:()=>s,cO:()=>l,xI:()=>i});var a=t(0x1b813d90),r=t(0x10a2d47e3);let l="settings",i=e=>a.sb[e]||e,s=()=>{let e=(0,r.wc)();return n=>n===a.v8.FIDDLEHEAD&&e[r.Wj]?e[r.Wj]:n===a.v8.CUTTLEFISH&&e[r.in]?e[r.in]:a.sb[n]||n}},0x22fc8d729:(e,n,t)=>{t.d(n,{Y:()=>a.Y});var a=t(0x8e5d1a53)}}]);