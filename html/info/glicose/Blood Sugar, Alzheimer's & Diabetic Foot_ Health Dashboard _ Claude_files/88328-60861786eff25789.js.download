try{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="633f174b-61c8-4357-8098-4cfc8b7d0af1",e._sentryDebugIdIdentifier="sentry-dbid-633f174b-61c8-4357-8098-4cfc8b7d0af1")}catch(e){}{let e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{};e._sentryModuleMetadata=e._sentryModuleMetadata||{},e._sentryModuleMetadata[new e.Error().stack]=Object.assign({},e._sentryModuleMetadata[new e.Error().stack],{"_sentryBundlerPluginAppKey:anthropic-apps":!0})}(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[75284,88328],{0x12412c52:(e,t,n)=>{"use strict";n.d(t,{PublicArtifactAppWrapper:()=>s});var r=n(0x22102fd88),a=n(0x4aeb4169),o=n(0xfc89b4a4),i=n(0xf071fd84),l=n(0x1bca896dd);let s=e=>{var t;let{artifact:n,remixBaseUrl:s,artifactId:u,activitySessionId:c,shouldTakeSnapshot:d}=e,[f,x]=(0,o.useState)(!1),{data:p}=(0,i.mt)({entityId:u,artifactEntityType:"published_artifact"}),g=(0,o.useMemo)(()=>(null==p?void 0:p.mcp_servers)||[],[p]),v={ArtifactMcpModal:l.I,hasArtifactToolConfig:!!(null==p||null==(t=p.mcp_servers)?void 0:t.length),onManageConnectors:()=>x(!0)};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.PublicArtifactContent,{artifact:n,remixBaseUrl:s,artifactId:u,activitySessionId:c,shouldTakeSnapshot:d,...v}),f&&g&&(0,r.jsx)(l.I,{isOpen:f,onClose:()=>x(!1),requestedServers:g,artifactContext:{uuid:u,type:"published_artifact"}})]})}},0x18a09144:(e,t,n)=>{"use strict";n.d(t,{P:()=>u,h:()=>c});var r=n(0xf32c56dd),a=n(0x12c9046cd),o=n(0x20b939f38),i=n(0x10728a05e),l=(n(0x10e01d04d),n(0xfc89b4a4)),s=n(0xe824fb1c);function u(){return!1}function c(){let{clients:e}=(0,s.Ak)(),{addError:t}=(0,i.Yf)(),{track:n}=(0,r.st)(),{activeOrganization:u}=(0,o.YL)(),c=(0,a.L2)("/api/organizations/".concat(null==u?void 0:u.uuid,"/dust/mcp_messages"),"POST",{enabled:!1,onError:()=>t("MCP sampling failed",{errorContext:{tags:{source:"mcp_sampling"}}})});(0,l.useEffect)(()=>{},[!1,e,c,n])}},0x2662014e:(e,t,n)=>{"use strict";n.d(t,{c:()=>r});let r=(0,n(0x394ef833).v)((e,t)=>({currentRequest:null,setCurrentRequest:t=>e({currentRequest:t}),clearCurrentRequest:()=>{e({currentRequest:null})},acceptElicitation:n=>{let r=t().currentRequest;r&&(r.resolve({action:"accept",content:n}),e({currentRequest:null}))},declineElicitation:()=>{let n=t().currentRequest;n&&(n.resolve({action:"decline"}),e({currentRequest:null}))},cancelElicitation:()=>{let n=t().currentRequest;n&&(n.resolve({action:"cancel"}),e({currentRequest:null}))}}))},0x4aeb4169:(e,t,n)=>{"use strict";n.r(t),n.d(t,{PublicArtifactContent:()=>b});var r=n(0x22102fd88),a=n(0x1dd44336e),o=n(0x78e658af),i=n(0x1575c7741),l=n(0x1bb0f43cc),s=n(0x20b939f38),u=n(0x24fcf6beb),c=n(0xfc89b4a4),d=n(0x227a237b4),f=n(0x206528fcb),x=n(0x1cf5ab98a),p=n(0x155df12ed),g=n(0x1ab362a20),v=n(0x38e6572);let m=e=>{let{isOpen:t,onClose:n,baseUrl:a,publishedArtifactUuid:o}=e,i=(0,f.Cu)();return(0,r.jsxs)(p.aF,{isOpen:t,onClose:n,children:[(0,r.jsx)(x.$,{variant:"ghost",size:"icon_sm",className:"!absolute top-3 right-3",onClick:n,children:(0,r.jsx)(g.X,{size:16})}),(0,r.jsxs)("div",{className:"flex flex-col gap-6 mt-4",children:[(0,r.jsx)("p",{className:"text-lg font-medium",children:(0,r.jsx)(v.A,{defaultMessage:"You need a Claude account to use this artifact",id:"jzcrjmVTFk"})}),(0,r.jsx)("p",{children:(0,r.jsx)(v.A,{defaultMessage:"Log in to Claude to use or customize this artifact. No account? You can create one for free.",id:"2iPAwj1yCC"})}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsx)(x.$,{variant:"primary",onClick:()=>i(window.location.href),href:"".concat(a,"/login?returnTo=").concat(encodeURIComponent("/public/artifacts/".concat(o))),className:"flex-1",target:window===window.top?"_self":"_blank",children:(0,r.jsx)(v.A,{defaultMessage:"Log in",id:"odXlk858Gb"})})})]})]})},b=e=>{let{artifact:t,remixBaseUrl:n,artifactId:f,activitySessionId:x,shouldTakeSnapshot:p,ArtifactMcpModal:g,hasArtifactToolConfig:v,onManageConnectors:b}=e,h=t.type===u.vU.Text,[y,_]=(0,c.useState)(!1),{account:w}=(0,s.YL)(),{mutate:S}=(0,a.b5)(f,x),C=(0,c.useRef)(S);C.current=S;let k=(0,c.useRef)(null),[E,T]=(0,c.useState)(!1),[P,A]=(0,c.useState)(!1),{mutateAsync:I}=(0,a.AH)(),M=(0,i.f)({artifactContext:{uuid:f,type:"published_artifact"},onMissingOrganization:()=>{throw _(!0),Error("An error occurred")}}),R=(0,l.j)({artifactContext:{uuid:f,type:"published_artifact"},onMissingOrganization:()=>{_(!0)}}),O=(0,c.useMemo)(()=>({claudeComplete:M,storage:R}),[M,R]);return(0,c.useEffect)(()=>{C.current({account_uuid:null==w?void 0:w.uuid})},[f,x,null==w?void 0:w.uuid]),(0,c.useEffect)(()=>{if(!E||!k.current||!w||P)return;let e=window.innerWidth,t=window.innerHeight;!p[e<768?"mobile":"desktop"]||e<320||t<480||e>2560||t>1600||(A(!0),(async()=>{try{var n;let r=await (null==(n=k.current)?void 0:n.getDOMSnapshot());r&&await I({domSnapshot:r,publishedArtifactUuid:f,viewportWidth:e,viewportHeight:t})}catch(e){}})())},[E,f,p,w,I,P]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(d.ArtifactFrame,{artifact:t,publishedArtifactUuid:f,remixBaseUrl:n,hasArtifactToolConfig:v,onManageConnectors:b,children:(0,r.jsx)(o.k,{isOpen:!0,content:t.content,type:t.type,language:t.language,showRaw:h,isCurrentStreaming:!1,richSandboxCapabilities:O,artifactContext:{uuid:f,type:"published_artifact"},richSandboxRef:k,showLoginModal:()=>_(!0),onDOMContentLoaded:()=>{T(!0)},ArtifactMcpModal:g})}),(0,r.jsx)(m,{isOpen:y,onClose:()=>_(!1),baseUrl:n,publishedArtifactUuid:f})]})}},0x62983db6:(e,t,n)=>{"use strict";n.d(t,{F:()=>c,R:()=>d});var r=n(0x10728a05e),a=n(0x18393fe29),o=n(0x10e01d04d),i=n(0xfc89b4a4),l=n(0xe824fb1c),s=n(0x2662014e),u=n(0xc6857cab);function c(){return!!(0,a.yz)()&&!u.env.DONT_USE_ELICITATION_MCP}function d(){let e=c(),{clients:t,clientMetadata:n}=(0,l.Ak)(),{setCurrentRequest:a}=(0,s.c)(),{addError:u}=(0,r.Yf)();(0,i.useEffect)(()=>{if(e)return t.forEach(e=>{let t=n.get(e);e.setRequestHandler(o.$9,async e=>{if("url"===e.params.mode)throw Error("URL elicitation mode not yet supported");return new Promise((n,r)=>{a({id:"".concat(Date.now(),"-").concat(Math.random()),serverName:t.name,iconType:t.iconType,iconSrc:t.iconSrc,request:e,resolve:n,reject:r})})})}),()=>{e&&t.forEach(e=>{e.removeRequestHandler(o.$9.shape.method.value)})}},[e,t,n,a,u])}},0x63f7f562:(e,t,n)=>{"use strict";n.d(t,{T:()=>o}),n(0x22102fd88);var r=n(0xfc89b4a4);let a=(0,r.createContext)({isAppShell:!1});function o(){let{isAppShell:e}=(0,r.useContext)(a);return e}},0x6a355238:(e,t,n)=>{"use strict";n.d(t,{D5:()=>b,QN:()=>v,vr:()=>m});var r=n(0x22102fd88),a=n(0x12c9046cd),o=n(0xac309a83),i=n(0x1bd175d8c),l=n(0x253a5c787),s=n(0x2443efed0),u=n(0xfc89b4a4),c=n(0xa5acf583),d=n(0xb804d868);let f="ak-session-token",x=e=>{let{host:t,apiKey:n,nonce:a,integrity:o,onCompleted:i,onShown:l,onShow:c,onHide:d,onError:f,onScriptError:x,setArkoseEnforcement:p}=e,g=e=>{e.setConfig({onCompleted:i,onShown:l,onShow:c,onHide:d,onError:f}),p(e)};return(0,u.useEffect)(()=>()=>{window.setupEnforcement=void 0},[]),(0,r.jsx)(s.default,{id:"arkose-script",src:"https://".concat(t,"/v2/").concat(n,"/api.js"),type:"text/javascript","data-callback":"setupEnforcement",async:!0,defer:!0,onLoad:()=>{window.setupEnforcement||(window.setupEnforcement=g)},onError:x,nonce:a,integrity:o,crossOrigin:"anonymous"})},p=()=>{let e=(0,i.V)(),t=(0,c.fZ)(),n=(0,o.fS)("ak_enabled");return!e&&t&&n},g=(0,u.createContext)({isReady:!1,isChallenging:!1,lastCallerId:void 0,needsToken:!1,startTokenFlow:()=>{}});function v(e){let{host:t,apiKey:n,nonce:a,integrity:o,children:i}=e,s=p(),[c,v]=(0,u.useState)(s&&!!t&&!!n&&!!o);(0,u.useEffect)(()=>{o&&s&&t&&n&&v(!0)},[o,s,t,n]);let[m,b]=(0,u.useState)(void 0),[h,y]=(0,u.useState)(void 0),[_,w]=(0,u.useState)(void 0),[S,C]=(0,u.useState)(!1),[k,E]=(0,d.Vc)(f,void 0),T=c&&!k;return(0,r.jsxs)(g.Provider,{value:{isReady:!!m,isChallenging:S,needsToken:T,lastCallerId:h,startTokenFlow:(e,t)=>{y(e),w(t),null==m||m.run()}},children:[i,c&&(0,r.jsx)(x,{host:t,apiKey:n,nonce:a,integrity:o,onCompleted:e=>{E(e.token),_&&(_(),w(void 0))},onShown:()=>C(!0),onShow:()=>C(!0),onHide:()=>C(!1),onError:e=>{(0,l.Cp)(e.error)},onScriptError:e=>{v(!1),(0,l.Cp)(e)},setArkoseEnforcement:b})]})}function m(){return(0,u.useContext)(g)}let b=()=>{let e=p(),[t,n,r]=(0,d.Vc)(f,void 0),{mutateAsync:o}=(0,a.L2)("api/arkose/verify","POST");return(0,u.useCallback)(async()=>{e&&t&&(r(),await o({session_token:t}))},[e,o,t,r])}},0x753d7f94:(e,t,n)=>{"use strict";n.d(t,{UU:()=>f,hm:()=>c,q_:()=>x});var r=n(0xac309a83),a=n(0x9b150f5f),o=n(0x1f700893a),i=n(0x17509cc64),l=n(0x62983db6),s=n(0x18a09144);class u{getValidator(e){return e=>({valid:!0,data:e,errorMessage:void 0})}}let c=new o.R,d=new u;function f(){let e={};(0,s.P)()&&(e.sampling={}),(0,l.F)()&&(e.elicitation={}),(0,i.So)()&&(e.extensions={"io.modelcontextprotocol/ui":{mimeTypes:["text/html;profile=mcp-app"]}});let t=(0,r._f)("claude_ai_mcp_skip_schema_validation");return new a.K({name:"claude-ai",version:"0.1.0"},{capabilities:e,jsonSchemaValidator:t?d:c})}async function x(e){let t=f();return await t.connect(e),t}},0x7aef6a06:(e,t,n)=>{"use strict";n.d(t,{CZ:()=>c,Cy:()=>i,HT:()=>s,TR:()=>u,q:()=>o.ensureRelativeUrl,rt:()=>l});var r=n(0x495c605f),a=n(0x20e00cddd),o=n(0xedac311);let i=(e,t,n,i,l)=>{if(l&&!localStorage.getItem(a.EB.ACCEPTED_US_GOVERNMENT_SYSTEM_NOTIFICATION)){let e=new URLSearchParams({returnTo:(0,o.ensureRelativeUrl)(null!=t?t:n)});return"/us-govt-system-warning?".concat(e.toString())}if(!t||!t.startsWith("/")||"/"===t||"/?"===t)return n;if((0,r.Xs)(e,i)){let e=new URL(n,window.location.origin),r=new URLSearchParams(e.search);return r.set("returnTo",t),"".concat(e.pathname,"?").concat(r.toString())}return(0,o.ensureRelativeUrl)(t)},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/login",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a="".concat(e,"?").concat(t),o=new URLSearchParams(r);return o.append("returnTo",a),"".concat(n,"?").concat(o.toString())};function s(e){let t=!(arguments.length>1)||void 0===arguments[1]||arguments[1];return t&&e.push(...Object.keys(localStorage).filter(e=>e.startsWith("".concat(a.sn,".")))),e.reduce((e,t)=>{let n=localStorage.getItem(t);return null!==n&&e.push([t,n]),e},[])}function u(e){e.forEach(e=>{let[t,n]=e;localStorage.setItem(t,n)})}function c(e){if(!e)return null;try{let t=decodeURIComponent(e);return new URL(t,window.location.origin).searchParams}catch(e){return null}}},0x865ff458:(e,t,n)=>{"use strict";n.d(t,{EL:()=>b,Hc:()=>p,XK:()=>g,Zl:()=>m,hz:()=>x,y_:()=>v});var r=n(0x12c9046cd),a=n(0x24553dffe),o=n(0x10728a05e),i=n(0x20e00cddd),l=n(0x49fac030),s=n(0xac309a83),u=n(0xfc89b4a4),c=n(0x1ab0d1ca1),d=n(0x156c4e43b),f=n(0x19572a4ef);function x(){var e;let t=(0,a.l)(),n=null!=(e=t.get(i.eT.PROMOTION))?e:null;return{data:(0,f.lx)(n),mutate:(0,u.useCallback)(e=>{t.set(i.eT.PROMOTION,JSON.stringify(e),{maxAgeSeconds:7776e3})},[t]),delete:(0,u.useCallback)(()=>{t.set(i.eT.PROMOTION,"",{maxAgeSeconds:0})},[t])}}function p(){var e,t,n;let{data:a}=x(),o=(t=null!=(e=null==a?void 0:a.promotionId)?e:null,n=e=>(0,f.IQ)(e,a),(0,r.Sk)("/api/billing/promotion/".concat(t),{queryKey:[l.t65,t],enabled:!!t,meta:{noToast:!0}},e=>(e.promotionId=t,n)?n(e):e));return{...o,isPending:o.isPending&&!!(null==a?void 0:a.promotionId)}}function g(){let{data:e,mutate:t}=x();(0,u.useEffect)(()=>{(null==e?void 0:e.needsCheckout)&&(e.needsCheckout=void 0,t(e))},[e,t])}function v(e){let{data:t,mutate:n}=x(),r=null==t?void 0:t.promotionId,a=(0,s.T9)("claude_ai_targeted_promotion","promotionId",null,d.Yj().nullable());return(0,u.useEffect)(()=>{!r&&a&&n({promotionId:a})},[r,a,n]),!!e&&!!(null==t?void 0:t.needsCheckout)&&!!(null==t?void 0:t.promotionId)}let m=()=>{let e=(0,u.useRef)(!1),t=(0,o.Yf)(),n=(0,c.A)(),{delete:r}=x();return(0,u.useCallback)(a=>{(null==a?void 0:a.offerError)&&!e.current&&(e.current=!0,t.addError(n.formatMessage({defaultMessage:"This promotion is not available for your account",id:"Vu9kt6ezVH"}),{error:Error(a.offerError),messageForLogging:"This promotion is not available for your account"}),r())},[t,r,n])},b=()=>{let e=(0,u.useRef)(!1),t=(0,o.Yf)(),n=(0,c.A)(),{delete:r}=x();return(0,u.useCallback)(a=>{(null==a?void 0:a.source)==="referral_code"&&(null==a?void 0:a.error)&&!e.current&&(e.current=!0,t.addError(n.formatMessage({defaultMessage:"This referral code is no longer valid",id:"Bsr7TrjB5Q"}),{error:Error(a.error),messageForLogging:"This referral code is no longer valid"}),r())},[t,r,n])}},0xe3c9cfb5:(e,t,n)=>{Promise.resolve().then(n.bind(n,0x12412c52)),Promise.resolve().then(n.bind(n,0x11f424afe)),Promise.resolve().then(n.bind(n,0x123fc2c47)),Promise.resolve().then(n.bind(n,0x1b4057ba6)),Promise.resolve().then(n.bind(n,0x17e725145)),Promise.resolve().then(n.bind(n,0x14db45e90)),Promise.resolve().then(n.bind(n,0x1e5693224)),Promise.resolve().then(n.bind(n,0xa8bf3ab0)),Promise.resolve().then(n.bind(n,0xc3731bfa)),Promise.resolve().then(n.bind(n,0xbe8f564)),Promise.resolve().then(n.bind(n,0x1ddedbe)),Promise.resolve().then(n.bind(n,0x20892a038)),Promise.resolve().then(n.bind(n,0xe7569a60)),Promise.resolve().then(n.bind(n,0x7a53ab8c)),Promise.resolve().then(n.bind(n,0x19ddf6dfc)),Promise.resolve().then(n.bind(n,0x227a237b4)),Promise.resolve().then(n.bind(n,0x78e658af)),Promise.resolve().then(n.bind(n,0x4aeb4169))},0xe6c3f31e:(e,t,n)=>{"use strict";n.d(t,{O4:()=>s,h_:()=>r,ms:()=>a,q6:()=>c});let r=e=>e.startsWith("local_");function a(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"remote",r=arguments.length>3?arguments[3]:void 0;return"local"===n?function(e){if(0===e.length)return!1;for(let t=e.length-1;t>=0;t--){let n=e[t];if((null==n?void 0:n.type)==="result")break;if((null==n?void 0:n.type)==="user")return!l(n)&&!function(e){var t,n,r;let a=null==(t=e.message)?void 0:t.content;return s("string"==typeof a?a:Array.isArray(a)&&null!=(r=null==(n=a[0])?void 0:n.text)?r:"")}(n);if((null==n?void 0:n.type)==="assistant")return!u(n)}return!1}(e):t.length>0||"compacting"===r||function(e){let t=e.filter(e=>{var t;return!o.has(e.type)&&!("system"===e.type&&i.has(null!=(t=e.subtype)?t:""))}),n=t[t.length-1];return!!n&&"result"!==n.type&&("user"===n.type?!l(n):"assistant"!==n.type||!u(n))}(e)}let o=new Set(["env_manager_log","keep_alive","control_response","tool_use_summary"]),i=new Set(["hook_progress","hook_response","init","local_command_output"]);function l(e){var t,n,r;let a=null==(t=e.message)?void 0:t.content;if(Array.isArray(a)){let e=null!=(r=null==(n=a[0])?void 0:n.text)?r:"";return"[Request interrupted by user]"===e||"[Request interrupted by user for tool use]"===e}return!1}function s(e){return e.includes("<command-name>")||e.includes("<local-command-stdout>")||e.includes("<local-command-stderr>")||e.includes("<bash-input>")||e.includes("<bash-stdout>")||e.includes("<bash-stderr>")}function u(e){var t,n;if(e.isApiErrorMessage||(null==(t=e.message)?void 0:t.stop_reason)==="end_turn")return!0;let r=null==(n=e.message)?void 0:n.content;if(Array.isArray(r)&&r.length>0){let e=r[r.length-1];if((null==e?void 0:e.type)==="text")return!0}return!1}function c(e){let{message:t,sessionId:n,track:r,knownCommands:a}=e,o=t.trim();if(!o.startsWith("/"))return;let i=o.slice(1).split(" ")[0];i&&a.includes(i)&&r({event_key:"claudeai.cowork.slash_command.invoked",session_id:n,is_plugin:i.indexOf(":")>0})}},0xf853038d:(e,t,n)=>{"use strict";n.d(t,{No:()=>o,PathnameSync:()=>i,X9:()=>s,xq:()=>l});var r=n(0x4d348f95),a=n(0xfc89b4a4);let o=(0,n(0x394ef833).v)(()=>({pathname:window.location.pathname}));function i(){let e=(0,r.usePathname)();return(0,a.useLayoutEffect)(()=>{o.setState({pathname:e})},[e]),null}function l(e){return o(t=>e(t.pathname))}function s(e){return l(e)}},0x1449f94a5:(e,t,n)=>{"use strict";n.d(t,{Hg:()=>r,Hu:()=>o,UL:()=>i,fM:()=>a});let r="/task/new",a="/local_sessions",o="/scheduled-task",i="/claude-code-desktop"},0x17cee1991:(e,t,n)=>{"use strict";n.d(t,{q7:()=>i});var r=n(0x20b939f38),a=n(0x1cf88e1d5),o=n(0xfcc9d76b);function i(){let{isLoading:e}=(0,r.YL)(),t=function(){let e=(0,o.e)(),t=(0,a.rV)();return e||t}();return e||t}},0x19572a4ef:(e,t,n)=>{"use strict";n.d(t,{IQ:()=>o,Jd:()=>r,lx:()=>a});let r=["proMonthlyPromoCode","proAnnualPromoCode","welcomeMessageTitle","utmParams","max5xMonthlyPromoCode","max20xMonthlyPromoCode"],a=e=>{if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},o=(e,t)=>(null==t?void 0:t.overrides)?{...e,...t.overrides}:e},0x1b09c791a:(e,t,n)=>{"use strict";n.d(t,{Iw:()=>m,JD:()=>h,PB:()=>y,_S:()=>g,nc:()=>w,qU:()=>_,rz:()=>v});var r=n(0x20b939f38),a=n(0x17cee1991),o=n(0xb804d868),i=n(0x2252bfeb8),l=n(0xac309a83),s=n(0x1bd175d8c),u=n(0xfc89b4a4),c=n(0x1cbe50837),d=n(0x22be9474c),f=n(0x63f7f562),x=n(0x13bc4352d),p=n(0x11ac491e7);let g=()=>{let e=_(),{loading:t,isSupported:n}=b();return(0,u.useMemo)(()=>e.loading||t?{loading:!0,enabled:void 0}:{loading:!1,enabled:e.featureGateEnabled&&"supported"===e.status&&null!=n&&n},[e,t,n])},v=()=>{let e=_(),t=(0,l.fS)("yukon_silver_clocks"),n=!!e.featureGateEnabled&&"supported"===e.status&&t;return((0,u.useEffect)(()=>{if(!e.loading){var t;null===i.W$||void 0===i.W$||null==(t=i.W$.setPreference)||t.call(i.W$,"coworkScheduledTasksEnabled",n)}},[e.loading,n]),e.loading)?{loading:!0,enabled:void 0}:{loading:!1,enabled:n}};function m(){let e=(0,s.V)(),t=(0,r.h0)(),{loading:n,status:a}=w(),{data:i,isLoading:l}=(0,c.xX)(),[d,f]=(0,o.Vc)("cowork-trial-seen",!1),x=(0,u.useCallback)(()=>{f(!1)},[f]),p=e&&!t&&"supported"===a?null==i?void 0:i.status:void 0;(0,u.useEffect)(()=>{"eligible"!==p&&"active"!==p||d||f(!0)},[p,d,f]);let g={loading:!1,hasTrialAccess:!1,trialActive:!1,trialStatus:void 0,dismissTrial:x};return!e||t?g:n?{...g,loading:!0}:"supported"!==a?g:l?{...g,loading:!0}:{loading:!1,hasTrialAccess:"eligible"===p||"active"===p||"expired"===p&&d,trialActive:"active"===p,trialStatus:p,dismissTrial:x}}let b=()=>{let e=(0,x._)();return e?{loading:!1,isSupported:"supported"===(0,p.v)(e,"yukonSilverGems").status}:{loading:!0,isSupported:void 0}},h=()=>{let e=(0,r.mV)(),t=(0,d.Gx)(),n=(0,l.fS)("cowork_tester_overrides_admin");return e?void 0===t?{enabled:!0,isLoading:!0}:n?{enabled:!0,isLoading:!1}:{enabled:null==t||t,isLoading:!1}:{enabled:!0,isLoading:!1}},y=()=>h().enabled,_=()=>{let e=(0,l.fS)("yukon_silver"),t=y(),{loading:n,status:r,unsupportedCode:o,localizedUnsupportedStringFromDesktop:i}=w(),s=(0,f.T)(),u=(0,a.q7)(),{hasTrialAccess:c,trialActive:d,loading:x}=m();if(n||x||s&&u)return{loading:!0,considerEnabledForNonUI:void 0,status:void 0,featureGateEnabled:void 0,unsupportedCode:void 0,localizedUnsupportedStringFromDesktop:void 0};let p=e&&t;return{loading:!1,considerEnabledForNonUI:(p||d)&&"supported"===r,status:r,featureGateEnabled:p||c,unsupportedCode:o,localizedUnsupportedStringFromDesktop:i}},w=()=>{let e=(0,x._)();if(!e)return{loading:!0,status:void 0,unsupportedCode:void 0,localizedUnsupportedStringFromDesktop:void 0};let t=(0,p.v)(e,"yukonSilver");return{loading:!1,status:t.status,localizedUnsupportedStringFromDesktop:"unsupported"===t.status&&t.unsupportedCode?t.reason:void 0,unsupportedCode:"unsupported"===t.status?t.unsupportedCode||function(e){if(!e)return"unknown";let t=e.toLowerCase();return t.includes("platform")||t.includes("darwin")?"unsupported_platform":"requires msix installation"===t?"msix_required":t.includes("architecture")||t.includes("arm64")||t.includes("x64")?"unsupported_architecture":t.includes("version")||t.includes("macos")||t.includes("windows")?"unsupported_os_version":"unknown"}(t.reason):"unknown"}}},0x1cf88e1d5:(e,t,n)=>{"use strict";n.d(t,{BootstrapedGrowthbookProvider:()=>_,n1:()=>S,rV:()=>w});var r=n(0x22102fd88),a=n(0x20e00cddd),o=n(0x76c96992),i=n(0x3ee3789e),l=n(0x1fd9cf36a),s=n(0xfc89b4a4),u=n(0x24553dffe),c=n(0x20b939f38);let d=(0,n(0x18393fe29).O0)()?"/api/event_logging/batch?test_mode=true":"/api/event_logging/batch",f=[],x=null,p=null;async function g(){if(0===f.length)return;let e=[...f];f=[],x&&(clearTimeout(x),x=null);try{await fetch(d,{method:"POST",headers:{"Content-Type":"application/json",...p?{"x-organization-uuid":p}:{}},body:JSON.stringify({events:e}),credentials:"include"})}catch(e){}}function v(){if(0===f.length)return;let e={events:[...f]};f=[];let t=new Blob([JSON.stringify(e)],{type:"application/json"});navigator.sendBeacon(d,t)}document.addEventListener("visibilitychange",()=>{"hidden"===document.visibilityState&&v()},{passive:!0}),window.addEventListener("pagehide",v,{passive:!0});let m=null,b=null,h=(0,s.createContext)(!0),y=(0,s.createContext)(0);function _(e){let{children:t}=e,{growthbook:n,activeOrganization:d,isLoading:v,bootstrapDataUpdatedAt:_}=(0,c.YL)(),w=null==d?void 0:d.uuid,S=(0,i.TI)(),C=!v,k=!S||C,[E,T]=(0,s.useState)(0),P=(0,s.useMemo)(()=>{let e=null!=n?n:{};return new l.NN({trackingCallback:(e,t)=>{var n,r,o;t.inExperiment&&(m||(m=null!=(n=u.m.get(a.eT.DEVICE_ID_KEY))?n:"unknown"),b||(b=null!=(r=u.m.get(a.eT.SEGMENT_ANONYMOUS_ID))?r:"unknown"),(o={event_type:"GrowthbookExperimentEvent",event_data:{device_id:null!=m?m:"unknown",anonymous_id:null!=b?b:"unknown",timestamp:new Date().toISOString(),experiment_id:e.key,variation_id:t.variationId,environment:"production"},organization_uuid:w}).organization_uuid&&(p=o.organization_uuid),f.push(o),f.length>=50?g():x||(x=setTimeout(()=>{x=null,g()},5e3)))}}).initSync({payload:e})},[n,w]);return(0,s.useEffect)(()=>{P&&(0,o.gq)(P)},[P]),(0,s.useEffect)(()=>{C&&T(n?_:Date.now())},[C,n,_]),(0,r.jsx)(h.Provider,{value:k,children:(0,r.jsx)(y.Provider,{value:E,children:(0,r.jsx)(l.iX,{growthbook:P,children:t})})})}function w(){return!(0,s.useContext)(h)}function S(e){let t=(0,o.jN)(e);return(0,l.iT)(t)}Date.now()},0x206528fcb:(e,t,n)=>{"use strict";n.d(t,{Cu:()=>T,F7:()=>C,P5:()=>y,VL:()=>E,WX:()=>S,bd:()=>w,bl:()=>k,nY:()=>_});var r=n(0x6a355238),a=n(0xa5acf583),o=n(0x24553dffe),i=n(0x20b939f38),l=n(0x10728a05e),s=n(0x21369b9e6),u=n(0x865ff458),c=n(0x495c605f),d=n(0x20e00cddd),f=n(0x49fac030);n(0xc1dd9efc);var x=n(0xac309a83),p=n(0x17e725145),g=n(0x4d348f95),v=n(0xfc89b4a4),m=n(0x17aa9d8d7),b=n(0x7aef6a06),h=n(0xc6857cab);let y="oauth_return_to",_=()=>{let e=(0,g.useRouter)(),t=(0,o.l)();return{refresh:()=>{e.refresh()},switchAndRefresh:(e,n)=>{t.set(d.eT.LAST_ACTIVE_ORG,e),n?location.pathname=n:location.reload()}}},w=e=>{let{account:t}=(0,i.YL)(),n=(0,u.y_)(e),a=(0,r.D5)(),o=(0,x.fS)("age_gate_reverification");return((0,v.useEffect)(()=>{t&&a()},[t,a]),t&&(0,c.Bs)(t,e)||t&&e&&0===t.memberships.length||t&&(0,c.VH)({account:t,isClaudeDot:e}))?"/onboarding":t&&(0,c.u5)(t,e,o)?"/age-verification":t&&(0,c.NJ)(t,e)?"/invites":t&&(0,c.Ah)(t,e)?"/create":t&&n?"/upgrade":e?"/new":"/dashboard"},S=(e,t,n)=>{let r=(0,s.S)(),{mutateAsync:a}=(0,m.nX)();return(0,v.useCallback)(async()=>{if(!e||!r||0===t.length)return;let o=t.map(e=>({document_id:"v3:".concat(e,":").concat(r[e]),accepted_via_checkbox:n}));await a({acceptances:o})},[e,r,t,a,n])},C=e=>{let t=(0,s.S)(),{mutateAsync:n}=(0,m.nX)();return(0,v.useCallback)(async r=>{if(!e||!t)return;let a=Object.entries(r).map(e=>{let[n,r]=e;return{document_id:"v3:".concat(n,":").concat(t[n]),accepted_via_checkbox:r}});0!==a.length&&await n({acceptances:a})},[e,t,n])},k=(e,t)=>{let{account:n,refetch:r,setActiveOrganizationUuid:a}=(0,i.YL)(),[o,s]=(0,v.useState)(!1),[u,c]=(0,v.useState)(!1),d=E(),{addSuccess:x}=(0,l.Yf)(),{data:g}=(0,m.kd)(e),b=(0,p.useQueryClient)();return(0,v.useEffect)(()=>{n&&o&&u&&(t?t(d):d())},[u,d,o,n,t]),(0,v.useCallback)(async()=>{s(!0);let e=await r();if(await b.invalidateQueries({queryKey:[f.Jzr]}),(null==g?void 0:g.organization_uuid)&&(a(g.organization_uuid),x("Joined ".concat(g.organization_name))),e&&"google"in window){var t,n,o;null==(o=window.google)||null==(n=o.accounts)||null==(t=n.id)||t.cancel()}c(!0)},[g,x,r,a,b])},E=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=(0,g.useSearchParams)().get("returnTo"),[n,r]=(0,v.useState)(null);(0,v.useEffect)(()=>{try{let e=sessionStorage.getItem(y);e&&r(e)}catch(e){}},[]);let a=t||n,o=T(e);return(0,v.useCallback)(()=>{try{sessionStorage.removeItem(y)}catch(e){}o(a)},[o,a])},T=function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{account:t}=(0,i.YL)(),[n,r]=(0,v.useState)(!1),o=(0,g.useRouter)(),[l,s]=(0,v.useState)(null),u=(0,g.usePathname)(),c=(0,g.useSearchParams)(),d=(0,a.fZ)(),f=w(d);return(0,v.useEffect)(()=>{(n||e)&&!t&&o.push((0,b.rt)(u,c.toString()))},[t,o,n,e,u,c]),(0,v.useEffect)(()=>{if(n&&t){let e=(0,b.Cy)(t,l,f,d,!!h.env.NEXT_PUBLIC_SHOW_US_GOVT_SYSTEM_USE_NOTIFICATION);e!==window.location.href.replace(window.location.origin,"")&&(o.replace(e),o.refresh())}},[t,o,n,l,f,d]),(0,v.useCallback)(e=>{e&&s(decodeURIComponent(e)),r(!0)},[])}},0x21369b9e6:(e,t,n)=>{"use strict";n.d(t,{LegalDocsProvider:()=>l,S:()=>s});var r=n(0x22102fd88),a=n(0xfc89b4a4),o=n(0x20c7d8181);let i=(0,a.createContext)(void 0),l=e=>{let{value:t,children:l}=e,s=(0,o.q8)(null),[u,c]=(0,a.useState)(t);return(0,a.useEffect)(()=>{null!==s&&n.e(65456).then(n.bind(n,0x16b21c710)).then(e=>{let{fetchLegalDocVersionsByType:t}=e;return c(t(s))})},[s]),(0,r.jsx)(i.Provider,{value:u,children:l})};function s(){return(0,a.useContext)(i)}}}]);